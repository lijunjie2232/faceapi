{"config":{"lang":["ja","en"],"separator":"[\\s\\-\u3000\u3001\u3002\uff0c\uff0e]+","pipeline":["stemmer"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Face Recognition System","text":""},{"location":"#_1","title":"\u6982\u8981","text":"<p>Face Recognition System\u306f\u3001\u6700\u65b0\u306e\u9854\u8a8d\u8b58\u6280\u8853\u3092\u6d3b\u7528\u3057\u305fWeb\u30d9\u30fc\u30b9\u306e\u9854\u8a8d\u8a3c\u30b7\u30b9\u30c6\u30e0\u3067\u3059\u3002FastAPI\u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u3068Vue.js\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u3092\u7d44\u307f\u5408\u308f\u305b\u305f\u30e2\u30c0\u30f3\u306a\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u3067\u69cb\u7bc9\u3055\u308c\u3066\u304a\u308a\u3001Docker\u30b3\u30f3\u30c6\u30ca\u306b\u3088\u308b\u7c21\u5358\u306a\u30c7\u30d7\u30ed\u30a4\u304c\u53ef\u80fd\u3067\u3059\u3002</p>"},{"location":"#_2","title":"\u4e3b\u306a\u6a5f\u80fd","text":"<ul> <li>\ud83d\udd10 \u30e6\u30fc\u30b6\u30fc\u8a8d\u8a3c: JWT\u30c8\u30fc\u30af\u30f3\u30d9\u30fc\u30b9\u306e\u5b89\u5168\u306a\u8a8d\u8a3c\u30b7\u30b9\u30c6\u30e0</li> <li>\ud83d\udc64 \u9854\u767b\u9332: \u8907\u6570\u306e\u9854\u753b\u50cf\u3092\u30e6\u30fc\u30b6\u30fc\u3054\u3068\u306b\u767b\u9332\u53ef\u80fd</li> <li>\ud83c\udfaf \u9854\u8a8d\u8b58: \u9ad8\u7cbe\u5ea6\u306a\u9854\u691c\u51fa\u3068\u8b58\u5225\u6a5f\u80fd</li> <li>\ud83d\uddbc\ufe0f \u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u51e6\u7406: Web\u30ab\u30e1\u30e9\u304b\u3089\u306e\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u9854\u8a8d\u8b58</li> <li>\ud83d\udcca \u7ba1\u7406\u753b\u9762: \u7ba1\u7406\u8005\u5411\u3051\u306e\u30e6\u30fc\u30b6\u30fc\u30de\u30cd\u30b8\u30e1\u30f3\u30c8\u6a5f\u80fd</li> <li>\ud83d\udc33 Docker\u5bfe\u5fdc: \u30b3\u30f3\u30c6\u30ca\u5316\u3055\u308c\u305f\u7c21\u5358\u306a\u30c7\u30d7\u30ed\u30a4</li> <li>\ud83c\udf10 \u30de\u30eb\u30c1GPU\u5bfe\u5fdc: GPU\u30a2\u30af\u30bb\u30e9\u30ec\u30fc\u30b7\u30e7\u30f3\u306b\u3088\u308b\u9ad8\u901f\u51e6\u7406</li> </ul>"},{"location":"#_3","title":"\u6280\u8853\u30b9\u30bf\u30c3\u30af","text":""},{"location":"#_4","title":"\u30d0\u30c3\u30af\u30a8\u30f3\u30c9","text":"<ul> <li>FastAPI: \u9ad8\u901f\u3067\u30e2\u30c0\u30f3\u306aPython Web\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af</li> <li>Milvus: \u5927\u898f\u6a21\u30d9\u30af\u30c8\u30eb\u691c\u7d22\u306e\u305f\u3081\u306e\u30d9\u30af\u30c8\u30eb\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9</li> <li>PostgreSQL: \u30ea\u30ec\u30fc\u30b7\u30e7\u30ca\u30eb\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9</li> <li>Tortoise ORM: \u975e\u540c\u671fORM</li> <li>face_recognition: \u9854\u8a8d\u8b58\u30e9\u30a4\u30d6\u30e9\u30ea</li> <li>ONNX Runtime: \u9ad8\u6027\u80fd\u6a5f\u68b0\u5b66\u7fd2\u63a8\u8ad6\u30a8\u30f3\u30b8\u30f3</li> </ul>"},{"location":"#_5","title":"\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9","text":"<ul> <li>Vue 3</li> <li>Vite</li> <li>face-api.js</li> <li>Axios</li> </ul>"},{"location":"#_6","title":"\u30a4\u30f3\u30d5\u30e9\u30b9\u30c8\u30e9\u30af\u30c1\u30e3","text":"<ul> <li>Docker: \u30b3\u30f3\u30c6\u30ca\u5316</li> <li>Docker Compose: \u30de\u30eb\u30c1\u30b3\u30f3\u30c6\u30ca\u30aa\u30fc\u30b1\u30b9\u30c8\u30ec\u30fc\u30b7\u30e7\u30f3</li> <li>Nginx: \u30ea\u30d0\u30fc\u30b9\u30d7\u30ed\u30ad\u30b7</li> </ul>"},{"location":"#_7","title":"\u30af\u30a4\u30c3\u30af\u30b9\u30bf\u30fc\u30c8","text":""},{"location":"#_8","title":"\u524d\u63d0\u6761\u4ef6","text":"<ul> <li>Docker 20.10+</li> <li>Docker Compose 1.29+</li> <li>Git</li> </ul>"},{"location":"#_9","title":"\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb","text":"<pre><code># \u30ea\u30dd\u30b8\u30c8\u30ea\u306e\u30af\u30ed\u30fc\u30f3\ngit clone https://github.com/lijunjie2232/faceapi.git\ncd face_recognition_system\n\n# \u958b\u767a\u74b0\u5883\u306e\u8d77\u52d5\ndocker-compose -f docker-compose.dev.yml up -d\n\n# \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3078\u306e\u30a2\u30af\u30bb\u30b9\n# \u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9: http://localhost:3000\n# \u30d0\u30c3\u30af\u30a8\u30f3\u30c9API: http://localhost:8000\n# API\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8: http://localhost:8000/docs\n</code></pre>"},{"location":"#_10","title":"\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u69cb\u9020","text":"<pre><code>face_recognition_system/\n\u251c\u2500\u2500 backend/           # FastAPI\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\n\u251c\u2500\u2500 frontend/          # Vue.js\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\n\u251c\u2500\u2500 nginx/             # Nginx\u8a2d\u5b9a\n\u251c\u2500\u2500 docker-compose.*.yml  # Docker Compose\u8a2d\u5b9a\n\u2514\u2500\u2500 docs/              # \u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\n</code></pre>"},{"location":"#_11","title":"\u8ca2\u732e","text":"<p>\u8ca2\u732e\u3092\u6b53\u8fce\u3057\u307e\u3059\uff01\u4ee5\u4e0b\u306e\u624b\u9806\u306b\u5f93\u3063\u3066\u304f\u3060\u3055\u3044\uff1a</p> <ol> <li>\u30ea\u30dd\u30b8\u30c8\u30ea\u3092\u30d5\u30a9\u30fc\u30af</li> <li>\u65b0\u3057\u3044\u30d6\u30e9\u30f3\u30c1\u3092\u4f5c\u6210 (<code>git checkout -b feature/amazing-feature</code>)</li> <li>\u5909\u66f4\u3092\u30b3\u30df\u30c3\u30c8 (<code>git commit -m 'Add some amazing feature'</code>)</li> <li>\u30d6\u30e9\u30f3\u30c1\u306b\u30d7\u30c3\u30b7\u30e5 (<code>git push origin feature/amazing-feature</code>)</li> <li>\u30d7\u30eb\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u4f5c\u6210</li> </ol>"},{"location":"#_12","title":"\u30e9\u30a4\u30bb\u30f3\u30b9","text":"<p>\u3053\u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306fMIT\u30e9\u30a4\u30bb\u30f3\u30b9\u306e\u4e0b\u3067\u516c\u958b\u3055\u308c\u3066\u3044\u307e\u3059\u3002\u8a73\u7d30\u306fLICENSE\u30d5\u30a1\u30a4\u30eb\u3092\u3054\u78ba\u8a8d\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"#_13","title":"\u30b5\u30dd\u30fc\u30c8","text":"<p>\u8cea\u554f\u3084\u554f\u984c\u304c\u3042\u308b\u5834\u5408\u306f\u3001Issues\u30da\u30fc\u30b8\u3067\u5831\u544a\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"deploy/","title":"\u30c7\u30d7\u30ed\u30a4\u30ac\u30a4\u30c9","text":"<p>\u3053\u306e\u30ac\u30a4\u30c9\u3067\u306f\u3001Face Recognition System\u3092\u672c\u756a\u74b0\u5883\u306b\u30c7\u30d7\u30ed\u30a4\u3059\u308b\u65b9\u6cd5\u306b\u3064\u3044\u3066\u8aac\u660e\u3057\u307e\u3059\u3002</p>"},{"location":"deploy/#_2","title":"\u30c7\u30d7\u30ed\u30a4\u30aa\u30d7\u30b7\u30e7\u30f3","text":""},{"location":"deploy/#docker-hub","title":"Docker Hub\u306e\u4e8b\u524d\u30d3\u30eb\u30c9\u6e08\u307f\u30a4\u30e1\u30fc\u30b8\uff08\u63a8\u5968\uff09","text":"<p>\u30e1\u30a4\u30f3\u306e <code>docker-compose.yml</code> \u30d5\u30a1\u30a4\u30eb\u306f\u3001\u76f4\u63a5\u30c7\u30d7\u30ed\u30a4\u306e\u305f\u3081\u306b\u4e8b\u524d\u30d3\u30eb\u30c9\u6e08\u307f\u30a4\u30e1\u30fc\u30b8\u3092\u4f7f\u7528\u3057\u307e\u3059\uff1a</p> <ul> <li>\u30d0\u30c3\u30af\u30a8\u30f3\u30c9API: <code>lijunjie2232/faceapi-server:v1.0</code></li> <li>Web\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9: <code>lijunjie2232/faceapi-web:v1.0</code></li> </ul> <p>\u5229\u70b9\uff1a - \u26a1 \u9ad8\u901f\u30c7\u30d7\u30ed\u30a4 - \u30d3\u30eb\u30c9\u6642\u9593\u4e0d\u8981 - \ud83d\udd04 \u74b0\u5883\u306e\u4e00\u8cab\u6027 - \u3069\u3053\u3067\u3082\u540c\u3058\u30a4\u30e1\u30fc\u30b8 - \ud83d\udce6 \u30d3\u30eb\u30c9\u4f9d\u5b58\u95a2\u4fc2\u306a\u3057 - Docker\u306e\u307f\u3067OK - \u23f1\ufe0f \u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u6642\u9593\u306e\u77ed\u7e2e - \u3059\u3050\u306b\u4f7f\u7528\u53ef\u80fd</p>"},{"location":"deploy/#1-docker-compose","title":"1. Docker Compose\uff08\u63a8\u5968\uff09","text":"<ul> <li>\u30b7\u30f3\u30d7\u30eb\u3067\u9ad8\u901f\u306a\u30c7\u30d7\u30ed\u30a4</li> <li>\u5c0f\u301c\u4e2d\u898f\u6a21\u74b0\u5883\u306b\u6700\u9069</li> <li>\u81ea\u5df1\u30db\u30b9\u30c8\u578b</li> </ul>"},{"location":"deploy/#2-kubernetes","title":"2. Kubernetes","text":"<ul> <li>\u5927\u898f\u6a21\u74b0\u5883\u5411\u3051</li> <li>\u81ea\u52d5\u30b9\u30b1\u30fc\u30ea\u30f3\u30b0\u5bfe\u5fdc</li> <li>\u9ad8\u53ef\u7528\u6027\u69cb\u6210</li> </ul>"},{"location":"deploy/#3","title":"3. \u30af\u30e9\u30a6\u30c9\u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0","text":"<ul> <li>AWS ECS/EKS</li> <li>Google Cloud Run/GKE</li> <li>Azure Container Instances/AKS</li> </ul>"},{"location":"deploy/#docker-compose","title":"Docker Compose\u306b\u3088\u308b\u30c7\u30d7\u30ed\u30a4","text":""},{"location":"deploy/#1","title":"1. \u672c\u756a\u74b0\u5883\u306e\u6e96\u5099","text":"<pre><code># \u30ea\u30dd\u30b8\u30c8\u30ea\u306e\u30af\u30ed\u30fc\u30f3\ngit clone https://github.com/lijunjie2232/faceapi.git\ncd face_recognition_system\n\n# \u672c\u756a\u7528\u74b0\u5883\u5909\u6570\u30d5\u30a1\u30a4\u30eb\u306e\u4f5c\u6210\ncp .env.prod.example .env\n\n# \u74b0\u5883\u5909\u6570\u306e\u8a2d\u5b9a\nvim .env\n</code></pre>"},{"location":"deploy/#2","title":"2. \u91cd\u8981\u306a\u74b0\u5883\u5909\u6570","text":"<pre><code># .env\u30d5\u30a1\u30a4\u30eb\u306e\u8a2d\u5b9a\u4f8b\nDEBUG=False\nLOG_LEVEL=INFO\n\n# \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u8a2d\u5b9a\nPOSTGRES_USER=faceuser\nPOSTGRES_PASSWORD=your_secure_production_password\nPOSTGRES_DB=facedb\n\n# JWT\u8a2d\u5b9a\nJWT_SECRET_KEY=your_very_long_secret_key_here_at_least_32_characters\nJWT_EXPIRE_MINUTES=1440  # 24\u6642\u9593\n\n# MinIO\u8a2d\u5b9a\nMINIO_ROOT_USER=minioadmin\nMINIO_ROOT_PASSWORD=your_secure_minio_password\n\n# SSL\u8a3c\u660e\u66f8\u30d1\u30b9\uff08\u4efb\u610f\uff09\nSSL_CERTIFICATE_PATH=/path/to/certificate.crt\nSSL_PRIVATE_KEY_PATH=/path/to/private.key\n</code></pre>"},{"location":"deploy/#3_1","title":"3. \u672c\u756a\u74b0\u5883\u306e\u8d77\u52d5","text":"<pre><code># \u4e8b\u524d\u30d3\u30eb\u30c9\u6e08\u307f\u30a4\u30e1\u30fc\u30b8\u3067\u672c\u756a\u74b0\u5883\u3092\u8d77\u52d5\uff08\u63a8\u5968\uff09\ndocker-compose -f docker-compose.yml up -d\n\n# \u4ee3\u66ff\u6848\uff1a\u30bd\u30fc\u30b9\u304b\u3089\u30d3\u30eb\u30c9\ndocker-compose -f docker-compose.prod.yml up -d --build\n\n# GPU\u5bfe\u5fdc\u74b0\u5883\u306e\u5834\u5408\ndocker-compose -f docker-compose.prod.gpu.yml up -d\n\n# \u30b5\u30fc\u30d3\u30b9\u306e\u72b6\u614b\u78ba\u8a8d\ndocker-compose -f docker-compose.prod.yml ps\n\n# \u30ed\u30b0\u306e\u78ba\u8a8d\ndocker-compose -f docker-compose.prod.yml logs -f\n</code></pre>"},{"location":"deploy/#ssltls","title":"SSL/TLS\u8a2d\u5b9a","text":""},{"location":"deploy/#1-lets-encryptssl","title":"1. Let's Encrypt\u306b\u3088\u308b\u7121\u6599SSL\u8a3c\u660e\u66f8","text":"<pre><code># Certbot\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nsudo apt install certbot\n\n# SSL\u8a3c\u660e\u66f8\u306e\u53d6\u5f97\nsudo certbot certonly --standalone -d your-domain.com\n\n# \u8a3c\u660e\u66f8\u30d5\u30a1\u30a4\u30eb\u306e\u30d1\u30b9\u8a2d\u5b9a\nSSL_CERTIFICATE_PATH=/etc/letsencrypt/live/your-domain.com/fullchain.pem\nSSL_PRIVATE_KEY_PATH=/etc/letsencrypt/live/your-domain.com/privkey.pem\n</code></pre>"},{"location":"deploy/#2-nginxssl","title":"2. Nginx\u306eSSL\u8a2d\u5b9a","text":"<pre><code>server {\n    listen 443 ssl http2;\n    server_name your-domain.com;\n\n    ssl_certificate /etc/letsencrypt/live/your-domain.com/fullchain.pem;\n    ssl_certificate_key /etc/letsencrypt/live/your-domain.com/privkey.pem;\n\n    # SSL\u8a2d\u5b9a\u306e\u5f37\u5316\n    ssl_protocols TLSv1.2 TLSv1.3;\n    ssl_ciphers ECDHE-RSA-AES256-GCM-SHA512:DHE-RSA-AES256-GCM-SHA512:ECDHE-RSA-AES256-GCM-SHA384:DHE-RSA-AES256-GCM-SHA384;\n    ssl_prefer_server_ciphers off;\n\n    location / {\n        proxy_pass http://frontend:3000;\n        proxy_set_header Host $host;\n        proxy_set_header X-Real-IP $remote_addr;\n    }\n}\n</code></pre>"},{"location":"deploy/#_3","title":"\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u3068\u5fa9\u65e7","text":""},{"location":"deploy/#1_1","title":"1. \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u30d0\u30c3\u30af\u30a2\u30c3\u30d7","text":"<pre><code># PostgreSQL\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u30b9\u30af\u30ea\u30d7\u30c8\n#!/bin/bash\nBACKUP_DIR=\"/backup/postgres\"\nDATE=$(date +%Y%m%d_%H%M%S)\n\n# \u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u306e\u4f5c\u6210\ndocker-compose -f docker-compose.prod.yml exec postgres pg_dump -U faceuser facedb &gt; $BACKUP_DIR/backup_$DATE.sql\n\n# \u53e4\u3044\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u306e\u524a\u9664\uff087\u65e5\u4ee5\u4e0a\u524d\u306e\u3082\u306e\uff09\nfind $BACKUP_DIR -name \"backup_*.sql\" -mtime +7 -delete\n</code></pre>"},{"location":"deploy/#2-minio","title":"2. MinIO\u30c7\u30fc\u30bf\u30d0\u30c3\u30af\u30a2\u30c3\u30d7","text":"<pre><code># MinIO\u30c7\u30fc\u30bf\u306e\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\ndocker-compose -f docker-compose.prod.yml exec minio mc cp -r local/face-images /backup/minio/\n</code></pre>"},{"location":"deploy/#3_2","title":"3. \u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u306e\u81ea\u52d5\u5316","text":"<pre><code># crontab\u306b\u8ffd\u52a0\n# \u6bce\u65e5\u5348\u524d2\u6642\u306b\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\n0 2 * * * /path/to/backup-script.sh\n</code></pre>"},{"location":"deploy/#_4","title":"\u30e2\u30cb\u30bf\u30ea\u30f3\u30b0\u3068\u30ed\u30ae\u30f3\u30b0","text":""},{"location":"deploy/#1_2","title":"1. \u30ed\u30b0\u7ba1\u7406","text":"<pre><code># Docker\u30ed\u30b0\u306e\u30ed\u30fc\u30c6\u30fc\u30b7\u30e7\u30f3\u8a2d\u5b9a\ncat &gt; /etc/docker/daemon.json &lt;&lt; EOF\n{\n  \"log-driver\": \"json-file\",\n  \"log-opts\": {\n    \"max-size\": \"10m\",\n    \"max-file\": \"3\"\n  }\n}\nEOF\n\n# Docker\u306e\u518d\u8d77\u52d5\nsudo systemctl restart docker\n</code></pre>"},{"location":"deploy/#2_1","title":"2. \u30d8\u30eb\u30b9\u30c1\u30a7\u30c3\u30af","text":"<pre><code># docker-compose.prod.yml\u306b\u8ffd\u52a0\nhealthcheck:\n  test: [\"CMD\", \"curl\", \"-f\", \"http://localhost:8000/health\"]\n  interval: 30s\n  timeout: 10s\n  retries: 3\n  start_period: 40s\n</code></pre>"},{"location":"deploy/#3_3","title":"3. \u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u30e2\u30cb\u30bf\u30ea\u30f3\u30b0","text":"<pre><code># Docker stats\u306e\u76e3\u8996\ndocker stats\n\n# \u30b7\u30b9\u30c6\u30e0\u30ea\u30bd\u30fc\u30b9\u306e\u76e3\u8996\nhtop\niotop\n</code></pre>"},{"location":"deploy/#_5","title":"\u30b9\u30b1\u30fc\u30ea\u30f3\u30b0","text":""},{"location":"deploy/#1_3","title":"1. \u6c34\u5e73\u30b9\u30b1\u30fc\u30ea\u30f3\u30b0","text":"<pre><code># \u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u306e\u30b9\u30b1\u30fc\u30ea\u30f3\u30b0\ndocker-compose -f docker-compose.prod.yml up -d --scale frontend=3\n\n# \u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u306e\u30b9\u30b1\u30fc\u30ea\u30f3\u30b0\ndocker-compose -f docker-compose.prod.yml up -d --scale backend=2\n</code></pre>"},{"location":"deploy/#2_2","title":"2. \u8ca0\u8377\u5206\u6563","text":"<pre><code># Nginx\u8ca0\u8377\u5206\u6563\u8a2d\u5b9a\nupstream backend_servers {\n    server backend1:8000;\n    server backend2:8000;\n    server backend3:8000;\n}\n\nupstream frontend_servers {\n    server frontend1:3000;\n    server frontend2:3000;\n    server frontend3:3000;\n}\n</code></pre>"},{"location":"deploy/#_6","title":"\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u5bfe\u7b56","text":""},{"location":"deploy/#1_4","title":"1. \u30d5\u30a1\u30a4\u30a2\u30a6\u30a9\u30fc\u30eb\u8a2d\u5b9a","text":"<pre><code># UFW\u306e\u8a2d\u5b9a\nsudo ufw enable\nsudo ufw allow ssh\nsudo ufw allow 80/tcp    # HTTP\nsudo ufw allow 443/tcp   # HTTPS\nsudo ufw deny 8000/tcp   # \u30d0\u30c3\u30af\u30a8\u30f3\u30c9API\u3092\u76f4\u63a5\u516c\u958b\u3057\u306a\u3044\n</code></pre>"},{"location":"deploy/#2_3","title":"2. \u30b3\u30f3\u30c6\u30ca\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3","text":"<pre><code># \u975eroot\u30e6\u30fc\u30b6\u30fc\u3067\u306e\u5b9f\u884c\n# docker-compose.prod.yml\u3067user\u3092\u6307\u5b9a\nuser: \"1000:1000\"\n\n# \u8aad\u307f\u53d6\u308a\u5c02\u7528\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\nread_only: true\ntmpfs:\n  - /tmp\n  - /var/run\n</code></pre>"},{"location":"deploy/#3_4","title":"3. \u74b0\u5883\u5909\u6570\u306e\u4fdd\u8b77","text":"<pre><code># \u6a5f\u5bc6\u60c5\u5831\u306e\u5916\u90e8\u30d5\u30a1\u30a4\u30eb\u5316\n# secrets.env\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\nJWT_SECRET_KEY=your_secret_key\nDATABASE_PASSWORD=your_db_password\n\n# docker-compose\u3067\u8aad\u307f\u8fbc\u307f\nenv_file:\n  - .env\n  - secrets.env\n</code></pre>"},{"location":"deploy/#_7","title":"\u707d\u5bb3\u5fa9\u65e7\u8a08\u753b","text":""},{"location":"deploy/#1_5","title":"1. \u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u6226\u7565","text":"<pre><code># \u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u983b\u5ea6\n- \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9: \u6bce\u65e5\n- MinIO\u30c7\u30fc\u30bf: \u6bce\u9031\n- \u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb: \u5909\u66f4\u6642\n\n# \u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u4fdd\u5b58\u5834\u6240\n- \u30ed\u30fc\u30ab\u30eb\u30b9\u30c8\u30ec\u30fc\u30b8: \u5373\u6642\u5fa9\u65e7\u7528\n- \u30af\u30e9\u30a6\u30c9\u30b9\u30c8\u30ec\u30fc\u30b8: \u9577\u671f\u4fdd\u5b58\u7528\n- \u30aa\u30d5\u30b5\u30a4\u30c8: \u707d\u5bb3\u5bfe\u7b56\u7528\n</code></pre>"},{"location":"deploy/#2_4","title":"2. \u5fa9\u65e7\u624b\u9806","text":"<pre><code># 1. \u6700\u65b0\u306e\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u306e\u78ba\u8a8d\nls -la /backup/\n\n# 2. \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u5fa9\u65e7\ndocker-compose -f docker-compose.prod.yml exec postgres psql -U faceuser facedb &lt; backup_20241201_020000.sql\n\n# 3. MinIO\u30c7\u30fc\u30bf\u306e\u5fa9\u65e7\ndocker-compose -f docker-compose.prod.yml exec minio mc cp -r /backup/minio/face-images local/\n\n# 4. \u30b5\u30fc\u30d3\u30b9\u306e\u518d\u8d77\u52d5\ndocker-compose -f docker-compose.prod.yml down\ndocker-compose -f docker-compose.prod.yml up -d\n</code></pre>"},{"location":"deploy/#_8","title":"\u30e1\u30f3\u30c6\u30ca\u30f3\u30b9","text":""},{"location":"deploy/#1_6","title":"1. \u5b9a\u671f\u30e1\u30f3\u30c6\u30ca\u30f3\u30b9\u30bf\u30b9\u30af","text":"<pre><code># \u6708\u6b21\u306e\u30e1\u30f3\u30c6\u30ca\u30f3\u30b9\u30b9\u30af\u30ea\u30d7\u30c8\n#!/bin/bash\n\n# Docker\u30b7\u30b9\u30c6\u30e0\u306e\u30af\u30ea\u30fc\u30f3\u30a2\u30c3\u30d7\ndocker system prune -af\n\n# \u30ed\u30b0\u30d5\u30a1\u30a4\u30eb\u306e\u30ed\u30fc\u30c6\u30fc\u30b7\u30e7\u30f3\nlogrotate /etc/logrotate.d/face-recognition\n\n# \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u6700\u9069\u5316\ndocker-compose -f docker-compose.prod.yml exec postgres vacuumdb -U faceuser facedb\n\n# SSL\u8a3c\u660e\u66f8\u306e\u66f4\u65b0\u78ba\u8a8d\ncertbot renew --dry-run\n</code></pre>"},{"location":"deploy/#2_5","title":"2. \u30a2\u30c3\u30d7\u30b0\u30ec\u30fc\u30c9\u624b\u9806","text":"<pre><code># 1. \u30e1\u30f3\u30c6\u30ca\u30f3\u30b9\u30e2\u30fc\u30c9\u306e\u958b\u59cb\ntouch /tmp/maintenance.mode\n\n# 2. \u65b0\u30d0\u30fc\u30b8\u30e7\u30f3\u306e\u53d6\u5f97\ngit pull origin main\n\n# 3. \u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u306e\u4f5c\u6210\n./scripts/backup.sh\n\n# 4. \u30b5\u30fc\u30d3\u30b9\u306e\u505c\u6b62\ndocker-compose -f docker-compose.prod.yml down\n\n# 5. \u65b0\u30d0\u30fc\u30b8\u30e7\u30f3\u306e\u30c7\u30d7\u30ed\u30a4\ndocker-compose -f docker-compose.prod.yml up -d --build\n\n# 6. \u30d8\u30eb\u30b9\u30c1\u30a7\u30c3\u30af\ncurl -f http://localhost:8000/health\n\n# 7. \u30e1\u30f3\u30c6\u30ca\u30f3\u30b9\u30e2\u30fc\u30c9\u306e\u7d42\u4e86\nrm /tmp/maintenance.mode\n</code></pre>"},{"location":"deploy/#_9","title":"\u30c8\u30e9\u30d6\u30eb\u30b7\u30e5\u30fc\u30c6\u30a3\u30f3\u30b0","text":""},{"location":"deploy/#_10","title":"\u3088\u304f\u3042\u308b\u554f\u984c\u3068\u89e3\u6c7a\u65b9\u6cd5","text":""},{"location":"deploy/#1_7","title":"1. \u30e1\u30e2\u30ea\u4e0d\u8db3","text":"<pre><code># \u30e1\u30e2\u30ea\u4f7f\u7528\u91cf\u306e\u78ba\u8a8d\ndocker stats\n\n# Docker\u306e\u30ea\u30bd\u30fc\u30b9\u5236\u9650\u8abf\u6574\n# /etc/docker/daemon.json\u3092\u7de8\u96c6\n</code></pre>"},{"location":"deploy/#2_6","title":"2. \u30c7\u30a3\u30b9\u30af\u5bb9\u91cf\u4e0d\u8db3","text":"<pre><code># \u30c7\u30a3\u30b9\u30af\u4f7f\u7528\u91cf\u306e\u78ba\u8a8d\ndf -h\n\n# \u4e0d\u8981\u306aDocker\u30c7\u30fc\u30bf\u306e\u524a\u9664\ndocker system prune -a\n</code></pre>"},{"location":"deploy/#3_5","title":"3. \u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u554f\u984c","text":"<pre><code># \u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u63a5\u7d9a\u306e\u78ba\u8a8d\ndocker network ls\ndocker network inspect face-recognition_default\n</code></pre>"},{"location":"deploy/#4","title":"4. \u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u554f\u984c","text":"<pre><code># \u30ea\u30bd\u30fc\u30b9\u30e2\u30cb\u30bf\u30ea\u30f3\u30b0\ntop\niotop\ndocker stats\n\n# \u30ed\u30b0\u5206\u6790\ndocker-compose -f docker-compose.prod.yml logs --tail=100\n</code></pre> <p>\u3053\u308c\u3067\u672c\u756a\u74b0\u5883\u3078\u306e\u30c7\u30d7\u30ed\u30a4\u6e96\u5099\u304c\u5b8c\u4e86\u3057\u307e\u3057\u305f\uff01</p>"},{"location":"dev/","title":"\u958b\u767a\u74b0\u5883\u8a2d\u5b9a","text":"<p>\u3053\u306e\u30ac\u30a4\u30c9\u3067\u306f\u3001Face Recognition System\u306e\u958b\u767a\u74b0\u5883\u69cb\u7bc9\u3068\u30ed\u30fc\u30ab\u30eb\u3067\u306e\u5b9f\u884c\u65b9\u6cd5\u306b\u3064\u3044\u3066\u8aac\u660e\u3057\u307e\u3059\u3002</p>"},{"location":"dev/#_2","title":"\u958b\u767a\u74b0\u5883\u306e\u6982\u8981","text":"<p>\u958b\u767a\u74b0\u5883\u306f\u4ee5\u4e0b\u306e\u30b3\u30f3\u30c6\u30ca\u3067\u69cb\u6210\u3055\u308c\u3066\u3044\u307e\u3059\uff1a</p> <ul> <li>frontend: Vue.js 3\u30d9\u30fc\u30b9\u306e\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3</li> <li>backend: FastAPI\u30d9\u30fc\u30b9\u306e\u30d0\u30c3\u30af\u30a8\u30f3\u30c9API\u30b5\u30fc\u30d0\u30fc</li> <li>postgres: \u30e6\u30fc\u30b6\u30fc\u30c7\u30fc\u30bf\u3092\u683c\u7d0d\u3059\u308bPostgreSQL\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9</li> <li>milvus-standalone: \u9854\u7279\u5fb4\u30d9\u30af\u30c8\u30eb\u3092\u683c\u7d0d\u3059\u308b\u30d9\u30af\u30c8\u30eb\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9</li> <li>minio: \u9854\u753b\u50cf\u3092\u683c\u7d0d\u3059\u308b\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u30b9\u30c8\u30ec\u30fc\u30b8</li> <li>etcd: Milvus\u306e\u30e1\u30bf\u30c7\u30fc\u30bf\u7ba1\u7406\u7528</li> <li>nginx: \u30ea\u30d0\u30fc\u30b9\u30d7\u30ed\u30ad\u30b7\u3068\u9759\u7684\u30d5\u30a1\u30a4\u30eb\u914d\u4fe1</li> </ul>"},{"location":"dev/#_3","title":"\u30ed\u30fc\u30ab\u30eb\u958b\u767a\u74b0\u5883\u306e\u8d77\u52d5","text":""},{"location":"dev/#1","title":"1. \u958b\u767a\u74b0\u5883\u306e\u8d77\u52d5","text":"<pre><code># \u958b\u767a\u74b0\u5883\u306e\u8d77\u52d5\ndocker-compose -f docker-compose.dev.yml up -d\n\n# \u30b5\u30fc\u30d3\u30b9\u306e\u72b6\u614b\u78ba\u8a8d\ndocker-compose -f docker-compose.dev.yml ps\n\n# \u30ed\u30b0\u306e\u78ba\u8a8d\ndocker-compose -f docker-compose.dev.yml logs -f\n</code></pre>"},{"location":"dev/#2-gpu","title":"2. GPU\u5bfe\u5fdc\u958b\u767a\u74b0\u5883\uff08\u4efb\u610f\uff09","text":"<p>GPU\u3092\u4f7f\u7528\u3059\u308b\u5834\u5408\uff1a</p> <pre><code># GPU\u5bfe\u5fdc\u74b0\u5883\u306e\u8d77\u52d5\ndocker-compose -f docker-compose.dev.gpu.yml up -d\n</code></pre>"},{"location":"dev/#_4","title":"\u5404\u30b5\u30fc\u30d3\u30b9\u3078\u306e\u30a2\u30af\u30bb\u30b9","text":"<p>\u8d77\u52d5\u5f8c\u3001\u4ee5\u4e0b\u306eURL\u304b\u3089\u5404\u30b5\u30fc\u30d3\u30b9\u306b\u30a2\u30af\u30bb\u30b9\u3067\u304d\u307e\u3059\uff1a</p> \u30b5\u30fc\u30d3\u30b9 URL \u8aac\u660e \u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9 http://localhost:3000 Vue.js\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3 \u30d0\u30c3\u30af\u30a8\u30f3\u30c9API http://localhost:8000 FastAPI\u30b5\u30fc\u30d0\u30fc API\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8 http://localhost:8000/docs Swagger UI MinIO\u30b3\u30f3\u30bd\u30fc\u30eb http://localhost:9001 \u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u30b9\u30c8\u30ec\u30fc\u30b8\u7ba1\u7406 Milvus\u30b3\u30f3\u30bd\u30fc\u30eb http://localhost:9091 \u30d9\u30af\u30c8\u30eb\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u7ba1\u7406"},{"location":"dev/#_5","title":"\u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u958b\u767a","text":""},{"location":"dev/#1_1","title":"1. \u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u30b3\u30fc\u30c9\u306e\u30db\u30c3\u30c8\u30ea\u30ed\u30fc\u30c9","text":"<p>\u958b\u767a\u4e2d\u306f\u30b3\u30fc\u30c9\u5909\u66f4\u6642\u306b\u81ea\u52d5\u7684\u306b\u518d\u8d77\u52d5\u3055\u308c\u307e\u3059\uff1a</p> <pre><code># \u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u30ed\u30b0\u306e\u76e3\u8996\ndocker-compose -f docker-compose.dev.yml logs -f backend\n</code></pre>"},{"location":"dev/#2","title":"2. \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u30de\u30a4\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3","text":"<pre><code># \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u521d\u671f\u5316\ndocker-compose -f docker-compose.dev.yml exec backend python -m faceapi.db.init_sql\n\n# \u7ba1\u7406\u8005\u30a2\u30ab\u30a6\u30f3\u30c8\u4f5c\u6210\ndocker-compose -f docker-compose.dev.yml exec backend python -m faceapi.db.init_account\n</code></pre>"},{"location":"dev/#3-api","title":"3. API\u30c6\u30b9\u30c8","text":"<pre><code># API\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3078\u306e\u30a2\u30af\u30bb\u30b9\nopen http://localhost:8000/docs\n\n# curl\u3092\u4f7f\u3063\u305fAPI\u30c6\u30b9\u30c8\u4f8b\ncurl -X POST http://localhost:8000/api/v1/signup \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"email\": \"test@example.com\", \"password\": \"password123\"}'\n</code></pre>"},{"location":"dev/#_6","title":"\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u958b\u767a","text":""},{"location":"dev/#1_2","title":"1. \u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u306e\u30db\u30c3\u30c8\u30ea\u30ed\u30fc\u30c9","text":"<p>Vue.js\u306e\u958b\u767a\u30b5\u30fc\u30d0\u30fc\u306f\u30db\u30c3\u30c8\u30ea\u30ed\u30fc\u30c9\u306b\u5bfe\u5fdc\u3057\u3066\u3044\u307e\u3059\uff1a</p> <pre><code># \u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u30ed\u30b0\u306e\u76e3\u8996\ndocker-compose -f docker-compose.dev.yml logs -f frontend\n</code></pre>"},{"location":"dev/#2_1","title":"2. \u4f9d\u5b58\u95a2\u4fc2\u306e\u8ffd\u52a0","text":"<pre><code># \u65b0\u3057\u3044npm\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\ndocker-compose -f docker-compose.dev.yml exec frontend pnpm add package-name\n\n# \u958b\u767a\u7528\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\ndocker-compose -f docker-compose.dev.yml exec frontend pnpm add -D package-name\n</code></pre>"},{"location":"dev/#3","title":"3. \u30d3\u30eb\u30c9\u306e\u30c6\u30b9\u30c8","text":"<pre><code># \u672c\u756a\u30d3\u30eb\u30c9\u306e\u30c6\u30b9\u30c8\ndocker-compose -f docker-compose.dev.yml exec frontend pnpm build\n</code></pre>"},{"location":"dev/#_7","title":"\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u64cd\u4f5c","text":""},{"location":"dev/#1-postgresql","title":"1. PostgreSQL\u3078\u306e\u63a5\u7d9a","text":"<pre><code># PostgreSQL\u30b3\u30f3\u30c6\u30ca\u3078\u306e\u63a5\u7d9a\ndocker-compose -f docker-compose.dev.yml exec postgres psql -U faceuser -d facedb\n\n# \u4fbf\u5229\u306aSQL\u30b3\u30de\u30f3\u30c9\n\\dt                    # \u30c6\u30fc\u30d6\u30eb\u4e00\u89a7\u8868\u793a\n\\d table_name          # \u30c6\u30fc\u30d6\u30eb\u69cb\u9020\u8868\u793a\nSELECT * FROM users;   # \u30e6\u30fc\u30b6\u30fc\u30c6\u30fc\u30d6\u30eb\u306e\u5185\u5bb9\u8868\u793a\n</code></pre>"},{"location":"dev/#2-milvus","title":"2. Milvus\u3078\u306e\u63a5\u7d9a","text":"<pre><code># Milvus\u30b3\u30f3\u30bd\u30fc\u30eb\u3078\u306e\u30a2\u30af\u30bb\u30b9\nopen http://localhost:9091\n\n# Python\u304b\u3089Milvus\u306b\u63a5\u7d9a\ndocker-compose -f docker-compose.dev.yml exec backend python\n</code></pre> <pre><code>from pymilvus import connections, Collection\n\n# \u63a5\u7d9a\nconnections.connect(host='milvus-standalone', port='19530')\n\n# \u30b3\u30ec\u30af\u30b7\u30e7\u30f3\u4e00\u89a7\ncollections = connections.list_collections()\nprint(collections)\n</code></pre>"},{"location":"dev/#_8","title":"\u30c6\u30b9\u30c8","text":""},{"location":"dev/#1_3","title":"1. \u5358\u4f53\u30c6\u30b9\u30c8\u306e\u5b9f\u884c","text":"<pre><code># \u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u30c6\u30b9\u30c8\u306e\u5b9f\u884c\ndocker-compose -f docker-compose.dev.yml exec backend pytest\n\n# \u7279\u5b9a\u306e\u30c6\u30b9\u30c8\u30d5\u30a1\u30a4\u30eb\u306e\u5b9f\u884c\ndocker-compose -f docker-compose.dev.yml exec backend pytest tests/test_users.py\n\n# \u30ab\u30d0\u30ec\u30c3\u30b8\u30ec\u30dd\u30fc\u30c8\u306e\u751f\u6210\ndocker-compose -f docker-compose.dev.yml exec backend pytest --cov=faceapi --cov-report=html\n</code></pre>"},{"location":"dev/#2-e2e","title":"2. E2E\u30c6\u30b9\u30c8","text":"<pre><code># Cypress\u30c6\u30b9\u30c8\u306e\u5b9f\u884c\ndocker-compose -f docker-compose.dev.yml exec frontend pnpm test:e2e\n</code></pre>"},{"location":"dev/#_9","title":"\u30c7\u30d0\u30c3\u30b0","text":""},{"location":"dev/#1_4","title":"1. \u30ed\u30b0\u306e\u78ba\u8a8d","text":"<pre><code># \u3059\u3079\u3066\u306e\u30b5\u30fc\u30d3\u30b9\u306e\u30ed\u30b0\ndocker-compose -f docker-compose.dev.yml logs\n\n# \u7279\u5b9a\u30b5\u30fc\u30d3\u30b9\u306e\u30ed\u30b0\ndocker-compose -f docker-compose.dev.yml logs backend\ndocker-compose -f docker-compose.dev.yml logs frontend\n\n# \u30ed\u30b0\u306e\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u76e3\u8996\ndocker-compose -f docker-compose.dev.yml logs -f\n</code></pre>"},{"location":"dev/#2_2","title":"2. \u30b3\u30f3\u30c6\u30ca\u5185\u3067\u306e\u4f5c\u696d","text":"<pre><code># \u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u30b3\u30f3\u30c6\u30ca\u3078\u306e\u30a2\u30af\u30bb\u30b9\ndocker-compose -f docker-compose.dev.yml exec backend bash\n\n# \u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u30b3\u30f3\u30c6\u30ca\u3078\u306e\u30a2\u30af\u30bb\u30b9\ndocker-compose -f docker-compose.dev.yml exec frontend sh\n\n# \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u30b3\u30f3\u30c6\u30ca\u3078\u306e\u30a2\u30af\u30bb\u30b9\ndocker-compose -f docker-compose.dev.yml exec postgres bash\n</code></pre>"},{"location":"dev/#3_1","title":"3. \u30c7\u30d0\u30c3\u30b0\u30e2\u30fc\u30c9\u3067\u306e\u8d77\u52d5","text":"<pre><code># \u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u3092\u30c7\u30d0\u30c3\u30b0\u30e2\u30fc\u30c9\u3067\u8d77\u52d5\ndocker-compose -f docker-compose.dev.yml stop backend\ndocker-compose -f docker-compose.dev.yml run --service-ports backend uvicorn faceapi.main:app --host 0.0.0.0 --port 8000 --reload\n</code></pre>"},{"location":"dev/#_10","title":"\u74b0\u5883\u5909\u6570","text":""},{"location":"dev/#_11","title":"\u958b\u767a\u74b0\u5883\u7528\u306e\u4e3b\u306a\u74b0\u5883\u5909\u6570","text":"<pre><code># .env\u30d5\u30a1\u30a4\u30eb\u306e\u4f8b\nDEBUG=True\nLOG_LEVEL=DEBUG\n\n# \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\nPOSTGRES_USER=faceuser\nPOSTGRES_PASSWORD=dev_password\nPOSTGRES_DB=facedb\n\n# JWT\nJWT_SECRET_KEY=development_secret_key\nJWT_EXPIRE_MINUTES=30\n\n# MinIO\nMINIO_ROOT_USER=minioadmin\nMINIO_ROOT_PASSWORD=minioadmin123\n</code></pre>"},{"location":"dev/#_12","title":"\u958b\u767a\u30ef\u30fc\u30af\u30d5\u30ed\u30fc","text":""},{"location":"dev/#1_5","title":"1. \u65b0\u6a5f\u80fd\u306e\u958b\u767a\u624b\u9806","text":"<pre><code># 1. \u65b0\u3057\u3044\u30d6\u30e9\u30f3\u30c1\u306e\u4f5c\u6210\ngit checkout -b feature/new-feature\n\n# 2. \u30b3\u30fc\u30c9\u306e\u5909\u66f4\n\n# 3. \u30c6\u30b9\u30c8\u306e\u5b9f\u884c\ndocker-compose -f docker-compose.dev.yml exec backend pytest\n\n# 4. \u30b3\u30df\u30c3\u30c8\ngit add .\ngit commit -m \"Add new feature\"\n\n# 5. \u30d7\u30c3\u30b7\u30e5\ngit push origin feature/new-feature\n</code></pre>"},{"location":"dev/#2_3","title":"2. \u30b3\u30fc\u30c9\u54c1\u8cea\u30c1\u30a7\u30c3\u30af","text":"<pre><code># \u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u306e\u30b3\u30fc\u30c9\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\ndocker-compose -f docker-compose.dev.yml exec backend black .\n\n# \u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u306e\u30b3\u30fc\u30c9\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\ndocker-compose -f docker-compose.dev.yml exec frontend pnpm format\n\n# \u30ea\u30f3\u30c8\u30c1\u30a7\u30c3\u30af\ndocker-compose -f docker-compose.dev.yml exec backend flake8 .\ndocker-compose -f docker-compose.dev.yml exec frontend pnpm lint\n</code></pre>"},{"location":"dev/#_13","title":"\u30c8\u30e9\u30d6\u30eb\u30b7\u30e5\u30fc\u30c6\u30a3\u30f3\u30b0","text":""},{"location":"dev/#_14","title":"\u3088\u304f\u3042\u308b\u554f\u984c\u3068\u89e3\u6c7a\u65b9\u6cd5","text":""},{"location":"dev/#1_6","title":"1. \u30b3\u30f3\u30c6\u30ca\u304c\u8d77\u52d5\u3057\u306a\u3044","text":"<pre><code># \u30b3\u30f3\u30c6\u30ca\u306e\u72b6\u614b\u78ba\u8a8d\ndocker-compose -f docker-compose.dev.yml ps\n\n# \u30b3\u30f3\u30c6\u30ca\u306e\u30ed\u30b0\u78ba\u8a8d\ndocker-compose -f docker-compose.dev.yml logs service_name\n\n# \u30b3\u30f3\u30c6\u30ca\u306e\u518d\u30d3\u30eb\u30c9\ndocker-compose -f docker-compose.dev.yml down\ndocker-compose -f docker-compose.dev.yml up -d --build\n</code></pre>"},{"location":"dev/#2_4","title":"2. \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u63a5\u7d9a\u30a8\u30e9\u30fc","text":"<pre><code># \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u30b5\u30fc\u30d3\u30b9\u306e\u518d\u8d77\u52d5\ndocker-compose -f docker-compose.dev.yml restart postgres\n\n# \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u521d\u671f\u5316\u306e\u518d\u5b9f\u884c\ndocker-compose -f docker-compose.dev.yml exec backend python -m faceapi.db.init_sql\n</code></pre>"},{"location":"dev/#3_2","title":"3. \u30e1\u30e2\u30ea\u4e0d\u8db3","text":"<pre><code># Docker\u306e\u30ea\u30bd\u30fc\u30b9\u5236\u9650\u78ba\u8a8d\ndocker info | grep -i memory\n\n# \u4e0d\u8981\u306a\u30b3\u30f3\u30c6\u30ca\u30fb\u30a4\u30e1\u30fc\u30b8\u306e\u524a\u9664\ndocker system prune -a\n</code></pre>"},{"location":"dev/#4","title":"4. \u30dd\u30fc\u30c8\u7af6\u5408","text":"<pre><code># \u4f7f\u7528\u4e2d\u306e\u30dd\u30fc\u30c8\u78ba\u8a8d\nsudo lsof -i :8000\nsudo lsof -i :3000\n\n# docker-compose.yml\u306e\u30dd\u30fc\u30c8\u5909\u66f4\n</code></pre>"},{"location":"dev/#_15","title":"\u958b\u767a\u74b0\u5883\u306e\u30ea\u30bb\u30c3\u30c8","text":"<pre><code># \u958b\u767a\u74b0\u5883\u306e\u5b8c\u5168\u30af\u30ea\u30fc\u30f3\u30a2\u30c3\u30d7\n./scripts/clean-dev-env.sh\n\n# \u307e\u305f\u306f\u624b\u52d5\u3067\ndocker-compose -f docker-compose.dev.yml down -v\ndocker volume ls | grep face\ndocker volume rm [volume_names]\n</code></pre> <p>\u3053\u308c\u3067\u958b\u767a\u74b0\u5883\u306e\u6e96\u5099\u304c\u5b8c\u4e86\u3057\u307e\u3057\u305f\uff01</p>"},{"location":"install/","title":"\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u30ac\u30a4\u30c9","text":"<p>\u3053\u306e\u30ac\u30a4\u30c9\u3067\u306f\u3001Face Recognition System\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u65b9\u6cd5\u306b\u3064\u3044\u3066\u8a73\u3057\u304f\u8aac\u660e\u3057\u307e\u3059\u3002</p>"},{"location":"install/#_2","title":"\u30b7\u30b9\u30c6\u30e0\u8981\u4ef6","text":""},{"location":"install/#_3","title":"\u6700\u4f4e\u8981\u4ef6","text":"<ul> <li>OS: Ubuntu 20.04 LTS / CentOS 8 / macOS 10.15+ / Windows 10+</li> <li>\u30e1\u30e2\u30ea: 8GB RAM (\u63a8\u5968: 16GB\u4ee5\u4e0a)</li> <li>\u30b9\u30c8\u30ec\u30fc\u30b8: 20GB\u7a7a\u304d\u5bb9\u91cf</li> <li>CPU: 4\u30b3\u30a2\u4ee5\u4e0a</li> </ul>"},{"location":"install/#_4","title":"\u63a8\u5968\u8981\u4ef6","text":"<ul> <li>\u30e1\u30e2\u30ea: 16GB RAM\u4ee5\u4e0a</li> <li>GPU: NVIDIA GPU (CUDA\u5bfe\u5fdc\u3001\u63a8\u5968: RTX 3060\u4ee5\u4e0a)</li> <li>\u30b9\u30c8\u30ec\u30fc\u30b8: 50GB\u7a7a\u304d\u5bb9\u91cf (SSD\u63a8\u5968)</li> </ul>"},{"location":"install/#_5","title":"\u5fc5\u8981\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb","text":""},{"location":"install/#1-docker","title":"1. Docker\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb","text":""},{"location":"install/#ubuntudebian","title":"Ubuntu/Debian","text":"<pre><code># \u30d1\u30c3\u30b1\u30fc\u30b8\u30ea\u30b9\u30c8\u306e\u66f4\u65b0\nsudo apt update\n\n# \u4f9d\u5b58\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nsudo apt install apt-transport-https ca-certificates curl gnupg lsb-release\n\n# Docker\u516c\u5f0fGPG\u30ad\u30fc\u306e\u8ffd\u52a0\ncurl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo gpg --dearmor -o /usr/share/keyrings/docker-archive-keyring.gpg\n\n# \u30ea\u30dd\u30b8\u30c8\u30ea\u306e\u8a2d\u5b9a\necho \"deb [arch=$(dpkg --print-architecture) signed-by=/usr/share/keyrings/docker-archive-keyring.gpg] https://download.docker.com/linux/ubuntu $(lsb_release -cs) stable\" | sudo tee /etc/apt/sources.list.d/docker.list &gt; /dev/null\n\n# Docker Engine\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nsudo apt update\nsudo apt install docker-ce docker-ce-cli containerd.io\n\n# Docker\u306e\u8d77\u52d5\u3068\u6709\u52b9\u5316\nsudo systemctl start docker\nsudo systemctl enable docker\n\n# \u975eroot\u30e6\u30fc\u30b6\u30fc\u306e\u6a29\u9650\u4ed8\u4e0e\nsudo usermod -aG docker $USER\n</code></pre>"},{"location":"install/#centosrhel","title":"CentOS/RHEL","text":"<pre><code># \u30ea\u30dd\u30b8\u30c8\u30ea\u306e\u8a2d\u5b9a\nsudo yum install -y yum-utils\nsudo yum-config-manager --add-repo https://download.docker.com/linux/centos/docker-ce.repo\n\n# Docker Engine\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nsudo yum install docker-ce docker-ce-cli containerd.io\n\n# Docker\u306e\u8d77\u52d5\u3068\u6709\u52b9\u5316\nsudo systemctl start docker\nsudo systemctl enable docker\n\n# \u975eroot\u30e6\u30fc\u30b6\u30fc\u306e\u6a29\u9650\u4ed8\u4e0e\nsudo usermod -aG docker $USER\n</code></pre>"},{"location":"install/#macos","title":"macOS","text":"<pre><code># Homebrew\u3092\u4f7f\u7528\u3057\u3066Docker Desktop\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nbrew install --cask docker\n</code></pre>"},{"location":"install/#2-docker-compose","title":"2. Docker Compose\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb","text":""},{"location":"install/#linuxmacos","title":"Linux/macOS","text":"<pre><code># \u6700\u65b0\u30d0\u30fc\u30b8\u30e7\u30f3\u306e\u53d6\u5f97\nCOMPOSE_VERSION=$(curl -s https://api.github.com/repos/docker/compose/releases/latest | grep 'tag_name' | cut -d\\\" -f4)\n\n# Docker Compose\u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3068\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\nsudo curl -L \"https://github.com/docker/compose/releases/download/${COMPOSE_VERSION}/docker-compose-$(uname -s)-$(uname -m)\" -o /usr/local/bin/docker-compose\n\n# \u5b9f\u884c\u6a29\u9650\u306e\u4ed8\u4e0e\nsudo chmod +x /usr/local/bin/docker-compose\n\n# \u30d0\u30fc\u30b8\u30e7\u30f3\u78ba\u8a8d\ndocker-compose --version\n</code></pre>"},{"location":"install/#3-git","title":"3. Git\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb","text":""},{"location":"install/#ubuntudebian_1","title":"Ubuntu/Debian","text":"<pre><code>sudo apt update\nsudo apt install git\n</code></pre>"},{"location":"install/#centosrhel_1","title":"CentOS/RHEL","text":"<pre><code>sudo yum install git\n</code></pre>"},{"location":"install/#macos_1","title":"macOS","text":"<pre><code># Git\u306f\u901a\u5e38\u4e8b\u524d\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u307e\u3059\ngit --version\n</code></pre>"},{"location":"install/#_6","title":"\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7","text":""},{"location":"install/#1","title":"1. \u30ea\u30dd\u30b8\u30c8\u30ea\u306e\u30af\u30ed\u30fc\u30f3","text":"<pre><code># \u30ea\u30dd\u30b8\u30c8\u30ea\u306e\u30af\u30ed\u30fc\u30f3\ngit clone https://github.com/lijunjie2232/faceapi.git\ncd face_recognition_system\n\n# \u74b0\u5883\u5909\u6570\u30d5\u30a1\u30a4\u30eb\u306e\u30b3\u30d4\u30fc\ncp .env.dev.example .env\n</code></pre>"},{"location":"install/#2","title":"2. \u74b0\u5883\u5909\u6570\u306e\u8a2d\u5b9a","text":"<p><code>.env</code>\u30d5\u30a1\u30a4\u30eb\u3092\u7de8\u96c6\u3057\u3066\u5fc5\u8981\u306a\u8a2d\u5b9a\u3092\u884c\u3044\u307e\u3059\uff1a</p> <pre><code># \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u8a2d\u5b9a\nPOSTGRES_USER=faceuser\nPOSTGRES_PASSWORD=your_secure_password\nPOSTGRES_DB=facedb\n\n# JWT\u30b7\u30fc\u30af\u30ec\u30c3\u30c8\u30ad\u30fc\nJWT_SECRET_KEY=your_very_secret_key_here\n\n# MinIO\u8a2d\u5b9a\nMINIO_ROOT_USER=minioadmin\nMINIO_ROOT_PASSWORD=minioadmin123\n\n# Milvus\u8a2d\u5b9a\nMILVUS_HOST=milvus-standalone\nMILVUS_PORT=19530\n</code></pre>"},{"location":"install/#3-gpu","title":"3. GPU\u30b5\u30dd\u30fc\u30c8\u306e\u8a2d\u5b9a\uff08\u4efb\u610f\uff09","text":"<p>GPU\u3092\u4f7f\u7528\u3059\u308b\u5834\u5408\u3001\u4ee5\u4e0b\u306e\u624b\u9806\u304c\u5fc5\u8981\u3067\u3059\uff1a</p>"},{"location":"install/#nvidia-docker","title":"NVIDIA Docker\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb","text":"<pre><code># NVIDIA Container Toolkit\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\ndistribution=$(. /etc/os-release;echo $ID$VERSION_ID)\ncurl -s -L https://nvidia.github.io/nvidia-docker/gpgkey | sudo apt-key add -\ncurl -s -L https://nvidia.github.io/nvidia-docker/$distribution/nvidia-docker.list | sudo tee /etc/apt/sources.list.d/nvidia-docker.list\n\nsudo apt update\nsudo apt install nvidia-docker2\n\n# Docker\u306e\u518d\u8d77\u52d5\nsudo systemctl restart docker\n</code></pre>"},{"location":"install/#gpudocker-compose","title":"GPU\u5bfe\u5fdc\u306eDocker Compose\u30d5\u30a1\u30a4\u30eb\u306e\u4f7f\u7528","text":"<pre><code># GPU\u5bfe\u5fdc\u306e\u958b\u767a\u74b0\u5883\u3092\u8d77\u52d5\ndocker-compose -f docker-compose.dev.gpu.yml up -d\n</code></pre>"},{"location":"install/#_7","title":"\u521d\u56de\u8d77\u52d5","text":""},{"location":"install/#_8","title":"\u958b\u767a\u74b0\u5883\u306e\u8d77\u52d5","text":"<pre><code># \u958b\u767a\u74b0\u5883\u306e\u30d3\u30eb\u30c9\u3068\u8d77\u52d5\ndocker-compose -f docker-compose.dev.yml up -d --build\n\n# \u30b5\u30fc\u30d3\u30b9\u306e\u72b6\u614b\u78ba\u8a8d\ndocker-compose -f docker-compose.dev.yml ps\n\n# \u30ed\u30b0\u306e\u78ba\u8a8d\ndocker-compose -f docker-compose.dev.yml logs -f\n</code></pre>"},{"location":"install/#_9","title":"\u30b5\u30fc\u30d3\u30b9\u3078\u306e\u30a2\u30af\u30bb\u30b9","text":"<p>\u8d77\u52d5\u304c\u5b8c\u4e86\u3057\u305f\u3089\u3001\u4ee5\u4e0b\u306eURL\u306b\u30a2\u30af\u30bb\u30b9\u3067\u304d\u307e\u3059\uff1a</p> <ul> <li>\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9: http://localhost:3000</li> <li>\u30d0\u30c3\u30af\u30a8\u30f3\u30c9API: http://localhost:8000</li> <li>API\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8: http://localhost:8000/docs</li> <li>MinIO\u30b3\u30f3\u30bd\u30fc\u30eb: http://localhost:9001</li> <li>Milvus\u30b3\u30f3\u30bd\u30fc\u30eb: http://localhost:9091</li> </ul>"},{"location":"install/#_10","title":"\u30c8\u30e9\u30d6\u30eb\u30b7\u30e5\u30fc\u30c6\u30a3\u30f3\u30b0","text":""},{"location":"install/#_11","title":"\u3088\u304f\u3042\u308b\u554f\u984c\u3068\u89e3\u6c7a\u65b9\u6cd5","text":""},{"location":"install/#1-docker_1","title":"1. Docker\u306e\u6a29\u9650\u30a8\u30e9\u30fc","text":"<pre><code># \u30e6\u30fc\u30b6\u30fc\u3092docker\u30b0\u30eb\u30fc\u30d7\u306b\u8ffd\u52a0\nsudo usermod -aG docker $USER\n\n# \u518d\u30ed\u30b0\u30a4\u30f3\u307e\u305f\u306f\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\nnewgrp docker\n</code></pre>"},{"location":"install/#2_1","title":"2. \u30dd\u30fc\u30c8\u304c\u4f7f\u7528\u4e2d\u306e\u5834\u5408","text":"<pre><code># \u4f7f\u7528\u4e2d\u306e\u30dd\u30fc\u30c8\u3092\u78ba\u8a8d\nsudo netstat -tlnp | grep :8000\n\n# \u5225\u306e\u30dd\u30fc\u30c8\u3092\u4f7f\u7528\u3059\u308b\u5834\u5408\u3001docker-compose.yml\u3092\u7de8\u96c6\n</code></pre>"},{"location":"install/#3","title":"3. \u30e1\u30e2\u30ea\u4e0d\u8db3\u30a8\u30e9\u30fc","text":"<pre><code># Docker\u306e\u30ea\u30bd\u30fc\u30b9\u5236\u9650\u3092\u8abf\u6574\n# Docker Desktop: Preferences \u2192 Resources\n# Linux: /etc/docker/daemon.json\u3067\u30ea\u30bd\u30fc\u30b9\u5236\u9650\u3092\u8a2d\u5b9a\n</code></pre>"},{"location":"install/#4-gpu","title":"4. GPU\u304c\u8a8d\u8b58\u3055\u308c\u306a\u3044\u5834\u5408","text":"<pre><code># NVIDIA\u30c9\u30e9\u30a4\u30d0\u306e\u78ba\u8a8d\nnvidia-smi\n\n# nvidia-docker2\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u78ba\u8a8d\ndocker info | grep -i nvidia\n</code></pre>"},{"location":"install/#_12","title":"\u30b5\u30dd\u30fc\u30c8\u306e\u53d6\u5f97","text":"<p>\u554f\u984c\u304c\u89e3\u6c7a\u3057\u306a\u3044\u5834\u5408\u306f\u3001\u4ee5\u4e0b\u306e\u60c5\u5831\u3092\u6dfb\u3048\u3066Issue\u3092\u4f5c\u6210\u3057\u3066\u304f\u3060\u3055\u3044\uff1a</p> <ol> <li>OS\u30d0\u30fc\u30b8\u30e7\u30f3\u3068Docker\u30d0\u30fc\u30b8\u30e7\u30f3</li> <li>\u30a8\u30e9\u30fc\u30e1\u30c3\u30bb\u30fc\u30b8</li> <li>\u4f7f\u7528\u3057\u3066\u3044\u308bdocker-compose\u30d5\u30a1\u30a4\u30eb</li> <li>\u74b0\u5883\u5909\u6570\u306e\u8a2d\u5b9a\uff08\u30d1\u30b9\u30ef\u30fc\u30c9\u7b49\u3092\u9664\u304f\uff09</li> </ol> <pre><code># \u30b7\u30b9\u30c6\u30e0\u60c5\u5831\u306e\u53ce\u96c6\nuname -a\ndocker --version\ndocker-compose --version\n</code></pre>"},{"location":"zh-TW/","title":"\u81c9\u90e8\u8fa8\u8b58\u7cfb\u7d71","text":""},{"location":"zh-TW/#_2","title":"\u6982\u8ff0","text":"<p>\u81c9\u90e8\u8fa8\u8b58\u7cfb\u7d71\u662f\u4e00\u500b\u57fa\u65bc\u73fe\u4ee3\u81c9\u90e8\u8fa8\u8b58\u6280\u8853\u7684\u7db2\u9801\u7248\u81c9\u90e8\u9a57\u8b49\u7cfb\u7d71\u3002\u63a1\u7528FastAPI\u5f8c\u7aef\u8207Vue.js\u524d\u7aef\u7d50\u5408\u7684\u73fe\u4ee3\u5316\u67b6\u69cb\u5efa\u69cb\uff0c\u652f\u63f4\u900f\u904eDocker\u5bb9\u5668\u9032\u884c\u7c21\u6613\u90e8\u7f72\u3002</p>"},{"location":"zh-TW/#_3","title":"\u4e3b\u8981\u529f\u80fd","text":"<ul> <li>\ud83d\udd10 \u4f7f\u7528\u8005\u8a8d\u8b49: \u57fa\u65bcJWT\u4ee4\u724c\u7684\u5b89\u5168\u8a8d\u8b49\u7cfb\u7d71</li> <li>\ud83d\udc64 \u81c9\u90e8\u8a3b\u518a: \u53ef\u70ba\u6bcf\u4f4d\u4f7f\u7528\u8005\u8a3b\u518a\u591a\u5f35\u81c9\u90e8\u5716\u7247</li> <li>\ud83c\udfaf \u81c9\u90e8\u8fa8\u8b58: \u9ad8\u7cbe\u6e96\u5ea6\u7684\u81c9\u90e8\u6aa2\u6e2c\u8207\u8b58\u5225\u529f\u80fd</li> <li>\ud83d\uddbc\ufe0f \u5373\u6642\u8655\u7406: \u652f\u63f4\u7db2\u8def\u651d\u5f71\u6a5f\u5373\u6642\u81c9\u90e8\u8fa8\u8b58</li> <li>\ud83d\udcca \u7ba1\u7406\u4ecb\u9762: \u63d0\u4f9b\u7ba1\u7406\u8005\u4f7f\u7528\u7684\u4f7f\u7528\u8005\u7ba1\u7406\u529f\u80fd</li> <li>\ud83d\udc33 Docker\u652f\u63f4: \u5bb9\u5668\u5316\u7684\u7c21\u6613\u90e8\u7f72\u65b9\u6848</li> <li>\ud83c\udf10 \u591aGPU\u652f\u63f4: \u900f\u904eGPU\u52a0\u901f\u5be6\u73fe\u9ad8\u901f\u8655\u7406</li> </ul>"},{"location":"zh-TW/#_4","title":"\u6280\u8853\u5806\u758a","text":""},{"location":"zh-TW/#_5","title":"\u5f8c\u7aef","text":"<ul> <li>FastAPI: \u5feb\u901f\u4e14\u73fe\u4ee3\u5316\u7684Python\u7db2\u9801\u6846\u67b6</li> <li>Milvus: \u7528\u65bc\u5927\u898f\u6a21\u5411\u91cf\u641c\u5c0b\u7684\u5411\u91cf\u8cc7\u6599\u5eab</li> <li>PostgreSQL: \u95dc\u806f\u5f0f\u8cc7\u6599\u5eab</li> <li>Tortoise ORM: \u975e\u540c\u6b65ORM</li> <li>face_recognition: \u81c9\u90e8\u8fa8\u8b58\u51fd\u5f0f\u5eab</li> <li>ONNX Runtime: \u9ad8\u6548\u80fd\u6a5f\u5668\u5b78\u7fd2\u63a8\u8ad6\u5f15\u64ce</li> </ul>"},{"location":"zh-TW/#_6","title":"\u524d\u7aef","text":"<ul> <li>Vue 3</li> <li>Vite</li> <li>face-api.js</li> <li>Axios</li> </ul>"},{"location":"zh-TW/#_7","title":"\u57fa\u790e\u8a2d\u65bd","text":"<ul> <li>Docker: \u5bb9\u5668\u5316</li> <li>Docker Compose: \u591a\u5bb9\u5668\u7de8\u6392</li> <li>Nginx: \u53cd\u5411\u4ee3\u7406</li> </ul>"},{"location":"zh-TW/#_8","title":"\u5feb\u901f\u958b\u59cb","text":""},{"location":"zh-TW/#_9","title":"\u7cfb\u7d71\u9700\u6c42","text":"<ul> <li>Docker 20.10+</li> <li>Docker Compose 1.29+</li> <li>Git</li> </ul>"},{"location":"zh-TW/#_10","title":"\u5b89\u88dd\u6b65\u9a5f","text":"<pre><code># \u514b\u9686\u7a0b\u5f0f\u78bc\u5eab\ngit clone https://github.com/lijunjie2232/faceapi.git\ncd face_recognition_system\n\n# \u555f\u52d5\u958b\u767c\u74b0\u5883\ndocker-compose -f docker-compose.dev.yml up -d\n\n# \u5b58\u53d6\u61c9\u7528\u7a0b\u5f0f\n# \u524d\u7aef\u4ecb\u9762: http://localhost:3000\n# \u5f8c\u7aefAPI: http://localhost:8000\n# API\u6587\u4ef6: http://localhost:8000/docs\n</code></pre>"},{"location":"zh-TW/#_11","title":"\u5c08\u6848\u7d50\u69cb","text":"<pre><code>face_recognition_system/\n\u251c\u2500\u2500 backend/           # FastAPI\u61c9\u7528\u7a0b\u5f0f\n\u251c\u2500\u2500 frontend/          # Vue.js\u524d\u7aef\n\u251c\u2500\u2500 nginx/             # Nginx\u8a2d\u5b9a\n\u251c\u2500\u2500 docker-compose.*.yml  # Docker Compose\u8a2d\u5b9a\n\u2514\u2500\u2500 docs/              # \u6587\u4ef6\n</code></pre>"},{"location":"zh-TW/#_12","title":"\u8ca2\u737b","text":"<p>\u6b61\u8fce\u8ca2\u737b\uff01\u8acb\u4f9d\u7167\u4ee5\u4e0b\u6b65\u9a5f\uff1a</p> <ol> <li>\u5206\u53c9(Fork)\u7a0b\u5f0f\u78bc\u5eab</li> <li>\u5efa\u7acb\u65b0\u7684\u5206\u652f (<code>git checkout -b feature/amazing-feature</code>)</li> <li>\u63d0\u4ea4\u8b8a\u66f4 (<code>git commit -m 'Add some amazing feature'</code>)</li> <li>\u63a8\u9001\u5230\u5206\u652f (<code>git push origin feature/amazing-feature</code>)</li> <li>\u5efa\u7acb\u62c9\u53d6\u8acb\u6c42(Pull Request)</li> </ol>"},{"location":"zh-TW/#_13","title":"\u6388\u6b0a","text":"<p>\u672c\u5c08\u6848\u63a1\u7528MIT\u6388\u6b0a\u689d\u6b3e\u767c\u5e03\u3002\u8a73\u60c5\u8acb\u53c3\u95b1LICENSE\u6a94\u6848\u3002</p>"},{"location":"zh-TW/#_14","title":"\u652f\u63f4","text":"<p>\u5982\u6709\u4efb\u4f55\u7591\u554f\u6216\u554f\u984c\uff0c\u8acb\u5728Issues\u9801\u9762\u56de\u5831\u3002</p>"},{"location":"zh-TW/deploy/","title":"\u90e8\u7f72\u6307\u5357","text":"<p>\u672c\u6307\u5357\u8aaa\u660e\u5982\u4f55\u5c07Face Recognition System\u90e8\u7f72\u5230\u751f\u7522\u74b0\u5883\u3002</p>"},{"location":"zh-TW/deploy/#_2","title":"\u90e8\u7f72\u9078\u9805","text":""},{"location":"zh-TW/deploy/#docker-hub","title":"\u4f7f\u7528Docker Hub\u9810\u5148\u5efa\u7f6e\u7684\u6620\u50cf\u6a94\uff08\u63a8\u85a6\uff09","text":"<p>\u4e3b\u8981\u7684 <code>docker-compose.yml</code> \u6a94\u6848\u4f7f\u7528\u9810\u5148\u5efa\u7f6e\u7684\u6620\u50cf\u6a94\u9032\u884c\u76f4\u63a5\u90e8\u7f72\uff1a</p> <ul> <li>\u5f8c\u7aefAPI: <code>lijunjie2232/faceapi-server:v1.0</code></li> <li>\u7db2\u9801\u4ecb\u9762: <code>lijunjie2232/faceapi-web:v1.0</code></li> </ul> <p>\u512a\u9ede\uff1a - \u26a1 \u5feb\u901f\u90e8\u7f72 - \u7121\u9700\u5efa\u7f6e\u6642\u9593 - \ud83d\udd04 \u74b0\u5883\u4e00\u81f4\u6027 - \u5230\u8655\u90fd\u662f\u76f8\u540c\u7684\u6620\u50cf\u6a94 - \ud83d\udce6 \u7121\u5efa\u7f6e\u4f9d\u8cf4 - \u53ea\u9700\u8981Docker - \u23f1\ufe0f \u6e1b\u5c11\u8a2d\u5b9a\u6642\u9593 - \u7acb\u5373\u53ef\u7528</p>"},{"location":"zh-TW/deploy/#1-docker-compose","title":"1. Docker Compose\uff08\u63a8\u85a6\uff09","text":"<ul> <li>\u7c21\u55ae\u5feb\u901f\u7684\u90e8\u7f72\u65b9\u5f0f</li> <li>\u9069\u7528\u65bc\u4e2d\u5c0f\u578b\u74b0\u5883</li> <li>\u81ea\u4e3b\u8a17\u7ba1\u578b</li> </ul>"},{"location":"zh-TW/deploy/#2-kubernetes","title":"2. Kubernetes","text":"<ul> <li>\u9069\u7528\u65bc\u5927\u578b\u74b0\u5883</li> <li>\u652f\u63f4\u81ea\u52d5\u64f4\u5c55</li> <li>\u9ad8\u53ef\u7528\u6027\u67b6\u69cb</li> </ul>"},{"location":"zh-TW/deploy/#3","title":"3. \u96f2\u7aef\u5e73\u53f0","text":"<ul> <li>AWS ECS/EKS</li> <li>Google Cloud Run/GKE</li> <li>Azure Container Instances/AKS</li> </ul>"},{"location":"zh-TW/deploy/#docker-compose","title":"\u4f7f\u7528Docker Compose\u90e8\u7f72","text":""},{"location":"zh-TW/deploy/#1","title":"1. \u751f\u7522\u74b0\u5883\u6e96\u5099","text":"<pre><code># \u514b\u9686\u7a0b\u5f0f\u78bc\u5eab\ngit clone https://github.com/lijunjie2232/faceapi.git\ncd face_recognition_system\n\n# \u5efa\u7acb\u751f\u7522\u74b0\u5883\u8b8a\u6578\u6a94\u6848\ncp .env.prod.example .env\n\n# \u8a2d\u5b9a\u74b0\u5883\u8b8a\u6578\nvim .env\n</code></pre>"},{"location":"zh-TW/deploy/#2","title":"2. \u91cd\u8981\u74b0\u5883\u8b8a\u6578","text":"<pre><code># .env\u6a94\u6848\u8a2d\u5b9a\u7bc4\u4f8b\nDEBUG=False\nLOG_LEVEL=INFO\n\n# \u8cc7\u6599\u5eab\u8a2d\u5b9a\nPOSTGRES_USER=faceuser\nPOSTGRES_PASSWORD=your_secure_production_password\nPOSTGRES_DB=facedb\n\n# JWT\u8a2d\u5b9a\nJWT_SECRET_KEY=your_very_long_secret_key_here_at_least_32_characters\nJWT_EXPIRE_MINUTES=1440  # 24\u5c0f\u6642\n\n# MinIO\u8a2d\u5b9a\nMINIO_ROOT_USER=minioadmin\nMINIO_ROOT_PASSWORD=your_secure_minio_password\n\n# SSL\u6191\u8b49\u8def\u5f91\uff08\u53ef\u9078\uff09\nSSL_CERTIFICATE_PATH=/path/to/certificate.crt\nSSL_PRIVATE_KEY_PATH=/path/to/private.key\n</code></pre>"},{"location":"zh-TW/deploy/#3_1","title":"3. \u555f\u52d5\u751f\u7522\u74b0\u5883","text":"<pre><code># \u4f7f\u7528\u9810\u5148\u5efa\u7f6e\u7684\u6620\u50cf\u6a94\u555f\u52d5\u751f\u7522\u74b0\u5883\uff08\u63a8\u85a6\uff09\ndocker-compose -f docker-compose.yml up -d\n\n# \u66ff\u4ee3\u65b9\u6848\uff1a\u5f9e\u539f\u59cb\u78bc\u5efa\u7f6e\ndocker-compose -f docker-compose.prod.yml up -d --build\n\n# GPU\u652f\u63f4\u74b0\u5883\ndocker-compose -f docker-compose.prod.gpu.yml up -d\n\n# \u78ba\u8a8d\u670d\u52d9\u72c0\u614b\ndocker-compose -f docker-compose.prod.yml ps\n\n# \u67e5\u770b\u65e5\u8a8c\ndocker-compose -f docker-compose.prod.yml logs -f\n</code></pre>"},{"location":"zh-TW/deploy/#1-lets-encryptssl","title":"1. \u4f7f\u7528Let's Encrypt\u514d\u8cbbSSL\u6191\u8b49","text":"<pre><code># \u5b89\u88ddCertbot\nsudo apt install certbot\n\n# \u53d6\u5f97SSL\u6191\u8b49\nsudo certbot certonly --standalone -d your-domain.com\n\n# \u8a2d\u5b9a\u6191\u8b49\u6a94\u6848\u8def\u5f91\nSSL_CERTIFICATE_PATH=/etc/letsencrypt/live/your-domain.com/fullchain.pem\nSSL_PRIVATE_KEY_PATH=/etc/letsencrypt/live/your-domain.com/privkey.pem\n</code></pre>"},{"location":"zh-TW/deploy/#2-nginxssl","title":"2. Nginx\u7684SSL\u8a2d\u5b9a","text":"<pre><code>server {\n    listen 443 ssl http2;\n    server_name your-domain.com;\n\n    ssl_certificate /etc/letsencrypt/live/your-domain.com/fullchain.pem;\n    ssl_certificate_key /etc/letsencrypt/live/your-domain.com/privkey.pem;\n\n    # \u5f37\u5316SSL\u8a2d\u5b9a\n    ssl_protocols TLSv1.2 TLSv1.3;\n    ssl_ciphers ECDHE-RSA-AES256-GCM-SHA512:DHE-RSA-AES256-GCM-SHA512:ECDHE-RSA-AES256-GCM-SHA384:DHE-RSA-AES256-GCM-SHA384;\n    ssl_prefer_server_ciphers off;\n\n    location / {\n        proxy_pass http://frontend:3000;\n        proxy_set_header Host $host;\n        proxy_set_header X-Real-IP $remote_addr;\n    }\n}\n</code></pre>"},{"location":"zh-TW/deploy/#_3","title":"\u5099\u4efd\u8207\u9084\u539f","text":""},{"location":"zh-TW/deploy/#1_1","title":"1. \u8cc7\u6599\u5eab\u5099\u4efd","text":"<pre><code># PostgreSQL\u5099\u4efd\u6307\u4ee4\u78bc\n#!/bin/bash\nBACKUP_DIR=\"/backup/postgres\"\nDATE=$(date +%Y%m%d_%H%M%S)\n\n# \u5efa\u7acb\u5099\u4efd\ndocker-compose -f docker-compose.prod.yml exec postgres pg_dump -U faceuser facedb &gt; $BACKUP_DIR/backup_$DATE.sql\n\n# \u522a\u9664\u820a\u5099\u4efd\uff087\u5929\u524d\u7684\uff09\nfind $BACKUP_DIR -name \"backup_*.sql\" -mtime +7 -delete\n</code></pre>"},{"location":"zh-TW/deploy/#2-minio","title":"2. MinIO\u8cc7\u6599\u5099\u4efd","text":"<pre><code># MinIO\u8cc7\u6599\u5099\u4efd\ndocker-compose -f docker-compose.prod.yml exec minio mc cp -r local/face-images /backup/minio/\n</code></pre>"},{"location":"zh-TW/deploy/#3_2","title":"3. \u5099\u4efd\u81ea\u52d5\u5316","text":"<pre><code># \u52a0\u5165crontab\n# \u6bcf\u5929\u51cc\u66682\u9ede\u5099\u4efd\n0 2 * * * /path/to/backup-script.sh\n</code></pre>"},{"location":"zh-TW/deploy/#_4","title":"\u76e3\u63a7\u8207\u65e5\u8a8c","text":""},{"location":"zh-TW/deploy/#1_2","title":"1. \u65e5\u8a8c\u7ba1\u7406","text":"<pre><code># Docker\u65e5\u8a8c\u8f2a\u8f49\u8a2d\u5b9a\ncat &gt; /etc/docker/daemon.json &lt;&lt; EOF\n{\n  \"log-driver\": \"json-file\",\n  \"log-opts\": {\n    \"max-size\": \"10m\",\n    \"max-file\": \"3\"\n  }\n}\nEOF\n\n# \u91cd\u555fDocker\nsudo systemctl restart docker\n</code></pre>"},{"location":"zh-TW/deploy/#2_1","title":"2. \u5065\u5eb7\u6aa2\u67e5","text":"<pre><code># \u5728docker-compose.prod.yml\u4e2d\u52a0\u5165\nhealthcheck:\n  test: [\"CMD\", \"curl\", \"-f\", \"http://localhost:8000/health\"]\n  interval: 30s\n  timeout: 10s\n  retries: 3\n  start_period: 40s\n</code></pre>"},{"location":"zh-TW/deploy/#3_3","title":"3. \u6548\u80fd\u76e3\u63a7","text":"<pre><code># \u76e3\u63a7Docker stats\ndocker stats\n\n# \u7cfb\u7d71\u8cc7\u6e90\u76e3\u63a7\nhtop\niotop\n</code></pre>"},{"location":"zh-TW/deploy/#_5","title":"\u64f4\u5c55\u6027","text":""},{"location":"zh-TW/deploy/#1_3","title":"1. \u6c34\u5e73\u64f4\u5c55","text":"<pre><code># \u524d\u7aef\u64f4\u5c55\ndocker-compose -f docker-compose.prod.yml up -d --scale frontend=3\n\n# \u5f8c\u7aef\u64f4\u5c55\ndocker-compose -f docker-compose.prod.yml up -d --scale backend=2\n</code></pre>"},{"location":"zh-TW/deploy/#2_2","title":"2. \u8ca0\u8f09\u5e73\u8861","text":"<pre><code># Nginx\u8ca0\u8f09\u5e73\u8861\u8a2d\u5b9a\nupstream backend_servers {\n    server backend1:8000;\n    server backend2:8000;\n    server backend3:8000;\n}\n\nupstream frontend_servers {\n    server frontend1:3000;\n    server frontend2:3000;\n    server frontend3:3000;\n}\n</code></pre>"},{"location":"zh-TW/deploy/#_6","title":"\u5b89\u5168\u6027\u63aa\u65bd","text":""},{"location":"zh-TW/deploy/#1_4","title":"1. \u9632\u706b\u7246\u8a2d\u5b9a","text":"<pre><code># UFW\u8a2d\u5b9a\nsudo ufw enable\nsudo ufw allow ssh\nsudo ufw allow 80/tcp    # HTTP\nsudo ufw allow 443/tcp   # HTTPS\nsudo ufw deny 8000/tcp   # \u4e0d\u76f4\u63a5\u516c\u958b\u5f8c\u7aefAPI\n</code></pre>"},{"location":"zh-TW/deploy/#2_3","title":"2. \u5bb9\u5668\u5b89\u5168\u6027","text":"<pre><code># \u4ee5\u975eroot\u4f7f\u7528\u8005\u57f7\u884c\n# \u5728docker-compose.prod.yml\u4e2d\u6307\u5b9auser\nuser: \"1000:1000\"\n\n# \u8b80\u53d6\u552f\u6a94\u6848\u7cfb\u7d71\nread_only: true\ntmpfs:\n  - /tmp\n  - /var/run\n</code></pre>"},{"location":"zh-TW/deploy/#3_4","title":"3. \u74b0\u5883\u8b8a\u6578\u4fdd\u8b77","text":"<pre><code># \u6a5f\u5bc6\u8cc7\u8a0a\u5916\u90e8\u5316\n# \u5efa\u7acbsecrets.env\u6a94\u6848\nJWT_SECRET_KEY=your_secret_key\nDATABASE_PASSWORD=your_db_password\n\n# \u5728docker-compose\u4e2d\u8b80\u53d6\nenv_file:\n  - .env\n  - secrets.env\n</code></pre>"},{"location":"zh-TW/deploy/#_7","title":"\u707d\u96e3\u6062\u5fa9\u8a08\u756b","text":""},{"location":"zh-TW/deploy/#1_5","title":"1. \u5099\u4efd\u7b56\u7565","text":"<pre><code># \u5099\u4efd\u983b\u7387\n- \u8cc7\u6599\u5eab: \u6bcf\u65e5\n- MinIO\u8cc7\u6599: \u6bcf\u9031\n- \u8a2d\u5b9a\u6a94\u6848: \u8b8a\u66f4\u6642\n\n# \u5099\u4efd\u5132\u5b58\u4f4d\u7f6e\n- \u672c\u6a5f\u5132\u5b58: \u5373\u6642\u6062\u5fa9\u7528\n- \u96f2\u7aef\u5132\u5b58: \u9577\u671f\u5132\u5b58\u7528\n- \u96e2\u7ad9\u5132\u5b58: \u707d\u96e3\u5c0d\u7b56\u7528\n</code></pre>"},{"location":"zh-TW/deploy/#2_4","title":"2. \u6062\u5fa9\u7a0b\u5e8f","text":"<pre><code># 1. \u78ba\u8a8d\u6700\u65b0\u5099\u4efd\nls -la /backup/\n\n# 2. \u8cc7\u6599\u5eab\u6062\u5fa9\ndocker-compose -f docker-compose.prod.yml exec postgres psql -U faceuser facedb &lt; backup_20241201_020000.sql\n\n# 3. MinIO\u8cc7\u6599\u6062\u5fa9\ndocker-compose -f docker-compose.prod.yml exec minio mc cp -r /backup/minio/face-images local/\n\n# 4. \u91cd\u65b0\u555f\u52d5\u670d\u52d9\ndocker-compose -f docker-compose.prod.yml down\ndocker-compose -f docker-compose.prod.yml up -d\n</code></pre>"},{"location":"zh-TW/deploy/#_8","title":"\u7dad\u8b77","text":""},{"location":"zh-TW/deploy/#1_6","title":"1. \u5b9a\u671f\u7dad\u8b77\u4efb\u52d9","text":"<pre><code># \u6708\u5ea6\u7dad\u8b77\u6307\u4ee4\u78bc\n#!/bin/bash\n\n# Docker\u7cfb\u7d71\u6e05\u7406\ndocker system prune -af\n\n# \u65e5\u8a8c\u6a94\u6848\u8f2a\u8f49\nlogrotate /etc/logrotate.d/face-recognition\n\n# \u8cc7\u6599\u5eab\u6700\u4f73\u5316\ndocker-compose -f docker-compose.prod.yml exec postgres vacuumdb -U faceuser facedb\n\n# SSL\u6191\u8b49\u66f4\u65b0\u78ba\u8a8d\ncertbot renew --dry-run\n</code></pre>"},{"location":"zh-TW/deploy/#2_5","title":"2. \u5347\u7d1a\u7a0b\u5e8f","text":"<pre><code># 1. \u958b\u59cb\u7dad\u8b77\u6a21\u5f0f\ntouch /tmp/maintenance.mode\n\n# 2. \u53d6\u5f97\u65b0\u7248\u672c\ngit pull origin main\n\n# 3. \u5efa\u7acb\u5099\u4efd\n./scripts/backup.sh\n\n# 4. \u505c\u6b62\u670d\u52d9\ndocker-compose -f docker-compose.prod.yml down\n\n# 5. \u90e8\u7f72\u65b0\u7248\u672c\ndocker-compose -f docker-compose.prod.yml up -d --build\n\n# 6. \u5065\u5eb7\u6aa2\u67e5\ncurl -f http://localhost:8000/health\n\n# 7. \u7d50\u675f\u7dad\u8b77\u6a21\u5f0f\nrm /tmp/maintenance.mode\n</code></pre>"},{"location":"zh-TW/deploy/#_9","title":"\u6545\u969c\u6392\u9664","text":""},{"location":"zh-TW/deploy/#_10","title":"\u5e38\u898b\u554f\u984c\u8207\u89e3\u6c7a\u65b9\u6cd5","text":""},{"location":"zh-TW/deploy/#1_7","title":"1. \u8a18\u61b6\u9ad4\u4e0d\u8db3","text":"<pre><code># \u78ba\u8a8d\u8a18\u61b6\u9ad4\u4f7f\u7528\u91cf\ndocker stats\n\n# \u8abf\u6574Docker\u8cc7\u6e90\u9650\u5236\n# \u7de8\u8f2f/etc/docker/daemon.json\n</code></pre>"},{"location":"zh-TW/deploy/#2_6","title":"2. \u78c1\u789f\u7a7a\u9593\u4e0d\u8db3","text":"<pre><code># \u78ba\u8a8d\u78c1\u789f\u4f7f\u7528\u91cf\ndf -h\n\n# \u522a\u9664\u4e0d\u9700\u8981\u7684Docker\u8cc7\u6599\ndocker system prune -a\n</code></pre>"},{"location":"zh-TW/deploy/#3_5","title":"3. \u7db2\u8def\u554f\u984c","text":"<pre><code># \u78ba\u8a8d\u7db2\u8def\u9023\u7dda\ndocker network ls\ndocker network inspect face-recognition_default\n</code></pre>"},{"location":"zh-TW/deploy/#4","title":"4. \u6548\u80fd\u554f\u984c","text":"<pre><code># \u8cc7\u6e90\u76e3\u63a7\ntop\niotop\ndocker stats\n\n# \u65e5\u8a8c\u5206\u6790\ndocker-compose -f docker-compose.prod.yml logs --tail=100\n</code></pre> <p>\u751f\u7522\u74b0\u5883\u90e8\u7f72\u6e96\u5099\u5b8c\u6210\uff01</p>"},{"location":"zh-TW/dev/","title":"\u958b\u767c\u74b0\u5883\u8a2d\u5b9a","text":"<p>\u672c\u6307\u5357\u8aaa\u660e\u5982\u4f55\u5efa\u7f6eFace Recognition System\u7684\u958b\u767c\u74b0\u5883\u4ee5\u53ca\u5728\u672c\u6a5f\u57f7\u884c\u7684\u65b9\u6cd5\u3002</p>"},{"location":"zh-TW/dev/#_2","title":"\u958b\u767c\u74b0\u5883\u6982\u89bd","text":"<p>\u958b\u767c\u74b0\u5883\u7531\u4ee5\u4e0b\u5bb9\u5668\u7d44\u6210\uff1a</p> <ul> <li>frontend: \u57fa\u65bcVue.js 3\u7684\u524d\u7aef\u61c9\u7528\u7a0b\u5f0f</li> <li>backend: \u57fa\u65bcFastAPI\u7684\u5f8c\u7aefAPI\u4f3a\u670d\u5668</li> <li>postgres: \u5132\u5b58\u4f7f\u7528\u8005\u8cc7\u6599\u7684PostgreSQL\u8cc7\u6599\u5eab</li> <li>milvus-standalone: \u5132\u5b58\u81c9\u90e8\u7279\u5fb5\u5411\u91cf\u7684\u5411\u91cf\u8cc7\u6599\u5eab</li> <li>minio: \u5132\u5b58\u81c9\u90e8\u5716\u7247\u7684\u7269\u4ef6\u5132\u5b58</li> <li>etcd: Milvus\u7684\u5143\u8cc7\u6599\u7ba1\u7406</li> <li>nginx: \u53cd\u5411\u4ee3\u7406\u8207\u975c\u614b\u6a94\u6848\u914d\u9001</li> </ul>"},{"location":"zh-TW/dev/#_3","title":"\u672c\u6a5f\u958b\u767c\u74b0\u5883\u555f\u52d5","text":""},{"location":"zh-TW/dev/#1","title":"1. \u555f\u52d5\u958b\u767c\u74b0\u5883","text":"<pre><code># \u555f\u52d5\u958b\u767c\u74b0\u5883\ndocker-compose -f docker-compose.dev.yml up -d\n\n# \u78ba\u8a8d\u670d\u52d9\u72c0\u614b\ndocker-compose -f docker-compose.dev.yml ps\n\n# \u67e5\u770b\u65e5\u8a8c\ndocker-compose -f docker-compose.dev.yml logs -f\n</code></pre>"},{"location":"zh-TW/dev/#2-gpu","title":"2. GPU\u652f\u63f4\u958b\u767c\u74b0\u5883\uff08\u53ef\u9078\uff09","text":"<p>\u82e5\u8981\u4f7f\u7528GPU\uff1a</p> <pre><code># \u555f\u52d5GPU\u652f\u63f4\u74b0\u5883\ndocker-compose -f docker-compose.dev.gpu.yml up -d\n</code></pre>"},{"location":"zh-TW/dev/#_4","title":"\u5b58\u53d6\u5404\u9805\u670d\u52d9","text":"<p>\u555f\u52d5\u5f8c\uff0c\u53ef\u900f\u904e\u4ee5\u4e0bURL\u5b58\u53d6\u5404\u9805\u670d\u52d9\uff1a</p> \u670d\u52d9 URL \u8aaa\u660e \u524d\u7aef\u4ecb\u9762 http://localhost:3000 Vue.js\u61c9\u7528\u7a0b\u5f0f \u5f8c\u7aefAPI http://localhost:8000 FastAPI\u4f3a\u670d\u5668 API\u6587\u4ef6 http://localhost:8000/docs Swagger UI MinIO\u63a7\u5236\u53f0 http://localhost:9001 \u7269\u4ef6\u5132\u5b58\u7ba1\u7406 Milvus\u63a7\u5236\u53f0 http://localhost:9091 \u5411\u91cf\u8cc7\u6599\u5eab\u7ba1\u7406"},{"location":"zh-TW/dev/#_5","title":"\u5f8c\u7aef\u958b\u767c","text":""},{"location":"zh-TW/dev/#1_1","title":"1. \u5f8c\u7aef\u7a0b\u5f0f\u78bc\u71b1\u91cd\u8f09","text":"<p>\u958b\u767c\u671f\u9593\u7a0b\u5f0f\u78bc\u8b8a\u66f4\u6642\u6703\u81ea\u52d5\u91cd\u65b0\u555f\u52d5\uff1a</p> <pre><code># \u76e3\u63a7\u5f8c\u7aef\u65e5\u8a8c\ndocker-compose -f docker-compose.dev.yml logs -f backend\n</code></pre>"},{"location":"zh-TW/dev/#2","title":"2. \u8cc7\u6599\u5eab\u9077\u79fb","text":"<pre><code># \u521d\u59cb\u5316\u8cc7\u6599\u5eab\ndocker-compose -f docker-compose.dev.yml exec backend python -m faceapi.db.init_sql\n\n# \u5efa\u7acb\u7ba1\u7406\u54e1\u5e33\u865f\ndocker-compose -f docker-compose.dev.yml exec backend python -m faceapi.db.init_account\n</code></pre>"},{"location":"zh-TW/dev/#3-api","title":"3. API\u6e2c\u8a66","text":"<pre><code># \u5b58\u53d6API\u6587\u4ef6\nopen http://localhost:8000/docs\n\n# \u4f7f\u7528curl\u6e2c\u8a66API\u7bc4\u4f8b\ncurl -X POST http://localhost:8000/api/v1/signup \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"email\": \"test@example.com\", \"password\": \"password123\"}'\n</code></pre>"},{"location":"zh-TW/dev/#_6","title":"\u524d\u7aef\u958b\u767c","text":""},{"location":"zh-TW/dev/#1_2","title":"1. \u524d\u7aef\u71b1\u91cd\u8f09","text":"<p>Vue.js\u958b\u767c\u4f3a\u670d\u5668\u652f\u63f4\u71b1\u91cd\u8f09\uff1a</p> <pre><code># \u76e3\u63a7\u524d\u7aef\u65e5\u8a8c\ndocker-compose -f docker-compose.dev.yml logs -f frontend\n</code></pre>"},{"location":"zh-TW/dev/#2_1","title":"2. \u65b0\u589e\u4f9d\u8cf4\u5957\u4ef6","text":"<pre><code># \u5b89\u88dd\u65b0\u7684npm\u5957\u4ef6\ndocker-compose -f docker-compose.dev.yml exec frontend pnpm add package-name\n\n# \u5b89\u88dd\u958b\u767c\u7528\u5957\u4ef6\ndocker-compose -f docker-compose.dev.yml exec frontend pnpm add -D package-name\n</code></pre>"},{"location":"zh-TW/dev/#3","title":"3. \u6e2c\u8a66\u5efa\u7f6e","text":"<pre><code># \u6e2c\u8a66\u751f\u7522\u74b0\u5883\u5efa\u7f6e\ndocker-compose -f docker-compose.dev.yml exec frontend pnpm build\n</code></pre>"},{"location":"zh-TW/dev/#_7","title":"\u8cc7\u6599\u5eab\u64cd\u4f5c","text":""},{"location":"zh-TW/dev/#1-postgresql","title":"1. \u9023\u7dda\u81f3PostgreSQL","text":"<pre><code># \u9023\u7dda\u81f3PostgreSQL\u5bb9\u5668\ndocker-compose -f docker-compose.dev.yml exec postgres psql -U faceuser -d facedb\n\n# \u5be6\u7528\u7684SQL\u6307\u4ee4\n\\dt                    # \u986f\u793a\u8cc7\u6599\u8868\u6e05\u55ae\n\\d table_name          # \u986f\u793a\u8cc7\u6599\u8868\u7d50\u69cb\nSELECT * FROM users;   # \u986f\u793a\u4f7f\u7528\u8005\u8cc7\u6599\u8868\u5167\u5bb9\n</code></pre>"},{"location":"zh-TW/dev/#2-milvus","title":"2. \u9023\u7dda\u81f3Milvus","text":"<pre><code># \u5b58\u53d6Milvus\u63a7\u5236\u53f0\nopen http://localhost:9091\n\n# \u5f9ePython\u9023\u7dda\u81f3Milvus\ndocker-compose -f docker-compose.dev.yml exec backend python\n</code></pre> <pre><code>from pymilvus import connections, Collection\n\n# \u9023\u7dda\nconnections.connect(host='milvus-standalone', port='19530')\n\n# \u8cc7\u6599\u8868\u6e05\u55ae\ncollections = connections.list_collections()\nprint(collections)\n</code></pre>"},{"location":"zh-TW/dev/#_8","title":"\u6e2c\u8a66","text":""},{"location":"zh-TW/dev/#1_3","title":"1. \u57f7\u884c\u55ae\u5143\u6e2c\u8a66","text":"<pre><code># \u57f7\u884c\u5f8c\u7aef\u6e2c\u8a66\ndocker-compose -f docker-compose.dev.yml exec backend pytest\n\n# \u57f7\u884c\u7279\u5b9a\u6e2c\u8a66\u6a94\u6848\ndocker-compose -f docker-compose.dev.yml exec backend pytest tests/test_users.py\n\n# \u7522\u751f\u8986\u84cb\u7387\u5831\u544a\ndocker-compose -f docker-compose.dev.yml exec backend pytest --cov=faceapi --cov-report=html\n</code></pre>"},{"location":"zh-TW/dev/#2-e2e","title":"2. E2E\u6e2c\u8a66","text":"<pre><code># \u57f7\u884cCypress\u6e2c\u8a66\ndocker-compose -f docker-compose.dev.yml exec frontend pnpm test:e2e\n</code></pre>"},{"location":"zh-TW/dev/#_9","title":"\u9664\u932f","text":""},{"location":"zh-TW/dev/#1_4","title":"1. \u67e5\u770b\u65e5\u8a8c","text":"<pre><code># \u6240\u6709\u670d\u52d9\u7684\u65e5\u8a8c\ndocker-compose -f docker-compose.dev.yml logs\n\n# \u7279\u5b9a\u670d\u52d9\u7684\u65e5\u8a8c\ndocker-compose -f docker-compose.dev.yml logs backend\ndocker-compose -f docker-compose.dev.yml logs frontend\n\n# \u5373\u6642\u76e3\u63a7\u65e5\u8a8c\ndocker-compose -f docker-compose.dev.yml logs -f\n</code></pre>"},{"location":"zh-TW/dev/#2_2","title":"2. \u5bb9\u5668\u5167\u64cd\u4f5c","text":"<pre><code># \u5b58\u53d6\u5f8c\u7aef\u5bb9\u5668\ndocker-compose -f docker-compose.dev.yml exec backend bash\n\n# \u5b58\u53d6\u524d\u7aef\u5bb9\u5668\ndocker-compose -f docker-compose.dev.yml exec frontend sh\n\n# \u5b58\u53d6\u8cc7\u6599\u5eab\u5bb9\u5668\ndocker-compose -f docker-compose.dev.yml exec postgres bash\n</code></pre>"},{"location":"zh-TW/dev/#3_1","title":"3. \u4ee5\u9664\u932f\u6a21\u5f0f\u555f\u52d5","text":"<pre><code># \u4ee5\u9664\u932f\u6a21\u5f0f\u555f\u52d5\u5f8c\u7aef\ndocker-compose -f docker-compose.dev.yml stop backend\ndocker-compose -f docker-compose.dev.yml run --service-ports backend uvicorn faceapi.main:app --host 0.0.0.0 --port 8000 --reload\n</code></pre>"},{"location":"zh-TW/dev/#_10","title":"\u74b0\u5883\u8b8a\u6578","text":""},{"location":"zh-TW/dev/#_11","title":"\u958b\u767c\u74b0\u5883\u7684\u4e3b\u8981\u74b0\u5883\u8b8a\u6578","text":"<pre><code># .env\u6a94\u6848\u7bc4\u4f8b\nDEBUG=True\nLOG_LEVEL=DEBUG\n\n# \u8cc7\u6599\u5eab\nPOSTGRES_USER=faceuser\nPOSTGRES_PASSWORD=dev_password\nPOSTGRES_DB=facedb\n\n# JWT\nJWT_SECRET_KEY=development_secret_key\nJWT_EXPIRE_MINUTES=30\n\n# MinIO\nMINIO_ROOT_USER=minioadmin\nMINIO_ROOT_PASSWORD=minioadmin123\n</code></pre>"},{"location":"zh-TW/dev/#_12","title":"\u958b\u767c\u5de5\u4f5c\u6d41\u7a0b","text":""},{"location":"zh-TW/dev/#1_5","title":"1. \u65b0\u529f\u80fd\u958b\u767c\u6b65\u9a5f","text":"<pre><code># 1. \u5efa\u7acb\u65b0\u5206\u652f\ngit checkout -b feature/new-feature\n\n# 2. \u7a0b\u5f0f\u78bc\u8b8a\u66f4\n\n# 3. \u57f7\u884c\u6e2c\u8a66\ndocker-compose -f docker-compose.dev.yml exec backend pytest\n\n# 4. \u63d0\u4ea4\ngit add .\ngit commit -m \"Add new feature\"\n\n# 5. \u63a8\u9001\ngit push origin feature/new-feature\n</code></pre>"},{"location":"zh-TW/dev/#2_3","title":"2. \u7a0b\u5f0f\u78bc\u54c1\u8cea\u6aa2\u67e5","text":"<pre><code># \u5f8c\u7aef\u7a0b\u5f0f\u78bc\u683c\u5f0f\u5316\ndocker-compose -f docker-compose.dev.yml exec backend black .\n\n# \u524d\u7aef\u7a0b\u5f0f\u78bc\u683c\u5f0f\u5316\ndocker-compose -f docker-compose.dev.yml exec frontend pnpm format\n\n# \u7a0b\u5f0f\u78bc\u6aa2\u67e5\ndocker-compose -f docker-compose.dev.yml exec backend flake8 .\ndocker-compose -f docker-compose.dev.yml exec frontend pnpm lint\n</code></pre>"},{"location":"zh-TW/dev/#_13","title":"\u6545\u969c\u6392\u9664","text":""},{"location":"zh-TW/dev/#_14","title":"\u5e38\u898b\u554f\u984c\u8207\u89e3\u6c7a\u65b9\u6cd5","text":""},{"location":"zh-TW/dev/#1_6","title":"1. \u5bb9\u5668\u7121\u6cd5\u555f\u52d5","text":"<pre><code># \u78ba\u8a8d\u5bb9\u5668\u72c0\u614b\ndocker-compose -f docker-compose.dev.yml ps\n\n# \u67e5\u770b\u5bb9\u5668\u65e5\u8a8c\ndocker-compose -f docker-compose.dev.yml logs service_name\n\n# \u91cd\u65b0\u5efa\u7f6e\u5bb9\u5668\ndocker-compose -f docker-compose.dev.yml down\ndocker-compose -f docker-compose.dev.yml up -d --build\n</code></pre>"},{"location":"zh-TW/dev/#2_4","title":"2. \u8cc7\u6599\u5eab\u9023\u7dda\u932f\u8aa4","text":"<pre><code># \u91cd\u65b0\u555f\u52d5\u8cc7\u6599\u5eab\u670d\u52d9\ndocker-compose -f docker-compose.dev.yml restart postgres\n\n# \u91cd\u65b0\u57f7\u884c\u8cc7\u6599\u5eab\u521d\u59cb\u5316\ndocker-compose -f docker-compose.dev.yml exec backend python -m faceapi.db.init_sql\n</code></pre>"},{"location":"zh-TW/dev/#3_2","title":"3. \u8a18\u61b6\u9ad4\u4e0d\u8db3","text":"<pre><code># \u78ba\u8a8dDocker\u8cc7\u6e90\u9650\u5236\ndocker info | grep -i memory\n\n# \u522a\u9664\u4e0d\u9700\u8981\u7684\u5bb9\u5668\u8207\u6620\u50cf\u6a94\ndocker system prune -a\n</code></pre>"},{"location":"zh-TW/dev/#4","title":"4. \u57e0\u865f\u885d\u7a81","text":"<pre><code># \u78ba\u8a8d\u4f7f\u7528\u4e2d\u7684\u57e0\u865f\nsudo lsof -i :8000\nsudo lsof -i :3000\n\n# \u4fee\u6539docker-compose.yml\u7684\u57e0\u865f\n</code></pre>"},{"location":"zh-TW/dev/#_15","title":"\u91cd\u7f6e\u958b\u767c\u74b0\u5883","text":"<pre><code># \u5b8c\u5168\u6e05\u7406\u958b\u767c\u74b0\u5883\n./scripts/clean-dev-env.sh\n\n# \u6216\u624b\u52d5\u57f7\u884c\ndocker-compose -f docker-compose.dev.yml down -v\ndocker volume ls | grep face\ndocker volume rm [volume_names]\n</code></pre> <p>\u958b\u767c\u74b0\u5883\u8a2d\u5b9a\u5b8c\u6210\uff01</p>"},{"location":"zh-TW/install/","title":"\u5b89\u88dd\u6307\u5357","text":"<p>\u672c\u6307\u5357\u5c07\u8a73\u7d30\u8aaa\u660eFace Recognition System\u7684\u5b89\u88dd\u65b9\u6cd5\u3002</p>"},{"location":"zh-TW/install/#_2","title":"\u7cfb\u7d71\u9700\u6c42","text":""},{"location":"zh-TW/install/#_3","title":"\u6700\u4f4e\u9700\u6c42","text":"<ul> <li>\u4f5c\u696d\u7cfb\u7d71: Ubuntu 20.04 LTS / CentOS 8 / macOS 10.15+ / Windows 10+</li> <li>\u8a18\u61b6\u9ad4: 8GB RAM (\u5efa\u8b70: 16GB\u4ee5\u4e0a)</li> <li>\u5132\u5b58\u7a7a\u9593: 20GB\u53ef\u7528\u7a7a\u9593</li> <li>CPU: 4\u6838\u5fc3\u4ee5\u4e0a</li> </ul>"},{"location":"zh-TW/install/#_4","title":"\u5efa\u8b70\u9700\u6c42","text":"<ul> <li>\u8a18\u61b6\u9ad4: 16GB RAM\u4ee5\u4e0a</li> <li>GPU: NVIDIA GPU (\u652f\u63f4CUDA\uff0c\u5efa\u8b70: RTX 3060\u4ee5\u4e0a)</li> <li>\u5132\u5b58\u7a7a\u9593: 50GB\u53ef\u7528\u7a7a\u9593 (\u5efa\u8b70\u4f7f\u7528SSD)</li> </ul>"},{"location":"zh-TW/install/#_5","title":"\u5fc5\u8981\u8edf\u9ad4\u5b89\u88dd","text":""},{"location":"zh-TW/install/#1-docker","title":"1. Docker\u5b89\u88dd","text":""},{"location":"zh-TW/install/#ubuntudebian","title":"Ubuntu/Debian","text":"<pre><code># \u66f4\u65b0\u5957\u4ef6\u6e05\u55ae\nsudo apt update\n\n# \u5b89\u88dd\u4f9d\u8cf4\u5957\u4ef6\nsudo apt install apt-transport-https ca-certificates curl gnupg lsb-release\n\n# \u52a0\u5165Docker\u5b98\u65b9GPG\u91d1\u9470\ncurl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo gpg --dearmor -o /usr/share/keyrings/docker-archive-keyring.gpg\n\n# \u8a2d\u5b9arepository\necho \"deb [arch=$(dpkg --print-architecture) signed-by=/usr/share/keyrings/docker-archive-keyring.gpg] https://download.docker.com/linux/ubuntu $(lsb_release -cs) stable\" | sudo tee /etc/apt/sources.list.d/docker.list &gt; /dev/null\n\n# \u5b89\u88ddDocker Engine\nsudo apt update\nsudo apt install docker-ce docker-ce-cli containerd.io\n\n# \u555f\u52d5\u4e26\u555f\u7528Docker\nsudo systemctl start docker\nsudo systemctl enable docker\n\n# \u70ba\u975eroot\u4f7f\u7528\u8005\u6388\u4e88\u6743\u9650\nsudo usermod -aG docker $USER\n</code></pre>"},{"location":"zh-TW/install/#centosrhel","title":"CentOS/RHEL","text":"<pre><code># \u8a2d\u5b9arepository\nsudo yum install -y yum-utils\nsudo yum-config-manager --add-repo https://download.docker.com/linux/centos/docker-ce.repo\n\n# \u5b89\u88ddDocker Engine\nsudo yum install docker-ce docker-ce-cli containerd.io\n\n# \u555f\u52d5\u4e26\u555f\u7528Docker\nsudo systemctl start docker\nsudo systemctl enable docker\n\n# \u70ba\u975eroot\u4f7f\u7528\u8005\u6388\u4e88\u6743\u9650\nsudo usermod -aG docker $USER\n</code></pre>"},{"location":"zh-TW/install/#macos","title":"macOS","text":"<pre><code># \u4f7f\u7528Homebrew\u5b89\u88ddDocker Desktop\nbrew install --cask docker\n</code></pre>"},{"location":"zh-TW/install/#2-docker-compose","title":"2. Docker Compose\u5b89\u88dd","text":""},{"location":"zh-TW/install/#linuxmacos","title":"Linux/macOS","text":"<pre><code># \u53d6\u5f97\u6700\u65b0\u7248\u672c\nCOMPOSE_VERSION=$(curl -s https://api.github.com/repos/docker/compose/releases/latest | grep 'tag_name' | cut -d\\\" -f4)\n\n# \u4e0b\u8f09\u4e26\u5b89\u88ddDocker Compose\nsudo curl -L \"https://github.com/docker/compose/releases/download/${COMPOSE_VERSION}/docker-compose-$(uname -s)-$(uname -m)\" -o /usr/local/bin/docker-compose\n\n# \u6388\u4e88\u57f7\u884c\u6b0a\u9650\nsudo chmod +x /usr/local/bin/docker-compose\n\n# \u78ba\u8a8d\u7248\u672c\ndocker-compose --version\n</code></pre>"},{"location":"zh-TW/install/#3-git","title":"3. Git\u5b89\u88dd","text":""},{"location":"zh-TW/install/#macos_1","title":"macOS","text":"<pre><code># Git\u901a\u5e38\u5df2\u9810\u5148\u5b89\u88dd\ngit --version\n</code></pre>"},{"location":"zh-TW/install/#_6","title":"\u5c08\u6848\u8a2d\u5b9a","text":""},{"location":"zh-TW/install/#1","title":"1. \u514b\u9686\u7a0b\u5f0f\u78bc\u5eab","text":"<pre><code># \u514b\u9686\u7a0b\u5f0f\u78bc\u5eab\ngit clone https://github.com/lijunjie2232/faceapi.git\ncd face_recognition_system\n\n# \u8907\u88fd\u74b0\u5883\u8b8a\u6578\u6a94\u6848\ncp .env.dev.example .env\n</code></pre>"},{"location":"zh-TW/install/#2","title":"2. \u74b0\u5883\u8b8a\u6578\u8a2d\u5b9a","text":"<p>\u7de8\u8f2f<code>.env</code>\u6a94\u6848\u9032\u884c\u5fc5\u8981\u8a2d\u5b9a\uff1a</p> <pre><code># \u8cc7\u6599\u5eab\u8a2d\u5b9a\nPOSTGRES_USER=faceuser\nPOSTGRES_PASSWORD=your_secure_password\nPOSTGRES_DB=facedb\n\n# JWT\u5bc6\u9470\nJWT_SECRET_KEY=your_very_secret_key_here\n\n# MinIO\u8a2d\u5b9a\nMINIO_ROOT_USER=minioadmin\nMINIO_ROOT_PASSWORD=minioadmin123\n\n# Milvus\u8a2d\u5b9a\nMILVUS_HOST=milvus-standalone\nMILVUS_PORT=19530\n</code></pre>"},{"location":"zh-TW/install/#3-gpu","title":"3. GPU\u652f\u63f4\u8a2d\u5b9a\uff08\u53ef\u9078\uff09","text":"<p>\u82e5\u8981\u4f7f\u7528GPU\uff0c\u9700\u8981\u4ee5\u4e0b\u6b65\u9a5f\uff1a</p>"},{"location":"zh-TW/install/#nvidia-docker","title":"\u5b89\u88ddNVIDIA Docker","text":"<pre><code># \u5b89\u88ddNVIDIA Container Toolkit\ndistribution=$(. /etc/os-release;echo $ID$VERSION_ID)\ncurl -s -L https://nvidia.github.io/nvidia-docker/gpgkey | sudo apt-key add -\ncurl -s -L https://nvidia.github.io/nvidia-docker/$distribution/nvidia-docker.list | sudo tee /etc/apt/sources.list.d/nvidia-docker.list\n\nsudo apt update\nsudo apt install nvidia-docker2\n\n# \u91cd\u555fDocker\nsudo systemctl restart docker\n</code></pre>"},{"location":"zh-TW/install/#gpudocker-compose","title":"\u4f7f\u7528GPU\u652f\u63f4\u7684Docker Compose\u6a94\u6848","text":"<pre><code># \u555f\u52d5GPU\u652f\u63f4\u7684\u958b\u767c\u74b0\u5883\ndocker-compose -f docker-compose.dev.gpu.yml up -d\n</code></pre>"},{"location":"zh-TW/install/#_7","title":"\u9996\u6b21\u555f\u52d5","text":""},{"location":"zh-TW/install/#_8","title":"\u555f\u52d5\u958b\u767c\u74b0\u5883","text":"<pre><code># \u5efa\u7f6e\u4e26\u555f\u52d5\u958b\u767c\u74b0\u5883\ndocker-compose -f docker-compose.dev.yml up -d --build\n\n# \u78ba\u8a8d\u670d\u52d9\u72c0\u614b\ndocker-compose -f docker-compose.dev.yml ps\n\n# \u67e5\u770b\u65e5\u8a8c\ndocker-compose -f docker-compose.dev.yml logs -f\n</code></pre>"},{"location":"zh-TW/install/#_9","title":"\u5b58\u53d6\u670d\u52d9","text":"<p>\u555f\u52d5\u5b8c\u6210\u5f8c\uff0c\u53ef\u4ee5\u900f\u904e\u4ee5\u4e0bURL\u5b58\u53d6\uff1a</p> <ul> <li>\u524d\u7aef\u4ecb\u9762: http://localhost:3000</li> <li>\u5f8c\u7aefAPI: http://localhost:8000</li> <li>API\u6587\u4ef6: http://localhost:8000/docs</li> <li>MinIO\u63a7\u5236\u53f0: http://localhost:9001</li> <li>Milvus\u63a7\u5236\u53f0: http://localhost:9091</li> </ul>"},{"location":"zh-TW/install/#_10","title":"\u6545\u969c\u6392\u9664","text":""},{"location":"zh-TW/install/#_11","title":"\u5e38\u898b\u554f\u984c\u8207\u89e3\u6c7a\u65b9\u6cd5","text":""},{"location":"zh-TW/install/#1-docker_1","title":"1. Docker\u6b0a\u9650\u932f\u8aa4","text":"<pre><code># \u5c07\u4f7f\u7528\u8005\u52a0\u5165docker\u7fa4\u7d44\nsudo usermod -aG docker $USER\n\n# \u91cd\u65b0\u767b\u5165\u6216\u57f7\u884c\u4ee5\u4e0b\u6307\u4ee4\nnewgrp docker\n</code></pre>"},{"location":"zh-TW/install/#2_1","title":"2. \u57e0\u865f\u88ab\u4f54\u7528","text":"<pre><code># \u78ba\u8a8d\u4f7f\u7528\u4e2d\u7684\u57e0\u865f\nsudo netstat -tlnp | grep :8000\n\n# \u82e5\u8981\u4f7f\u7528\u5176\u4ed6\u57e0\u865f\uff0c\u8acb\u7de8\u8f2fdocker-compose.yml\n</code></pre>"},{"location":"zh-TW/install/#3","title":"3. \u8a18\u61b6\u9ad4\u4e0d\u8db3\u932f\u8aa4","text":"<pre><code># \u8abf\u6574Docker\u8cc7\u6e90\u9650\u5236\n# Docker Desktop: Preferences \u2192 Resources\n# Linux: \u5728/etc/docker/daemon.json\u8a2d\u5b9a\u8cc7\u6e90\u9650\u5236\n</code></pre>"},{"location":"zh-TW/install/#4-gpu","title":"4. GPU\u7121\u6cd5\u8b58\u5225","text":"<pre><code># \u78ba\u8a8dNVIDIA\u9a45\u52d5\u7a0b\u5f0f\nnvidia-smi\n\n# \u78ba\u8a8dnvidia-docker2\u5b89\u88dd\ndocker info | grep -i nvidia\n</code></pre>"},{"location":"zh-TW/install/#_12","title":"\u53d6\u5f97\u652f\u63f4","text":"<p>\u82e5\u554f\u984c\u7121\u6cd5\u89e3\u6c7a\uff0c\u8acb\u5efa\u7acbIssue\u6642\u63d0\u4f9b\u4ee5\u4e0b\u8cc7\u8a0a\uff1a</p> <ol> <li>\u4f5c\u696d\u7cfb\u7d71\u7248\u672c\u548cDocker\u7248\u672c</li> <li>\u932f\u8aa4\u8a0a\u606f</li> <li>\u4f7f\u7528\u7684docker-compose\u6a94\u6848</li> <li>\u74b0\u5883\u8b8a\u6578\u8a2d\u5b9a\uff08\u4e0d\u542b\u5bc6\u78bc\u7b49\u654f\u611f\u8cc7\u8a0a\uff09</li> </ol> <pre><code># \u6536\u96c6\u7cfb\u7d71\u8cc7\u8a0a\nuname -a\ndocker --version\ndocker-compose --version\n</code></pre>"},{"location":"en/#overview","title":"Overview","text":"<p>Face Recognition System is a web-based facial authentication system leveraging cutting-edge facial recognition technology. Built with a modern architecture combining FastAPI backend and Vue.js frontend, it enables easy deployment through Docker containers.</p>"},{"location":"en/#key-features","title":"Key Features","text":"<ul> <li>\ud83d\udd10 User Authentication: Secure authentication system based on JWT tokens</li> <li>\ud83d\udc64 Face Registration: Register multiple face images per user</li> <li>\ud83c\udfaf Face Recognition: High-accuracy face detection and identification capabilities</li> <li>\ud83d\uddbc\ufe0f Real-time Processing: Real-time face recognition from webcam</li> <li>\ud83d\udcca Admin Dashboard: User management functionality for administrators</li> <li>\ud83d\udc33 Docker Support: Containerized easy deployment</li> <li>\ud83c\udf10 Multi-GPU Support: High-speed processing through GPU acceleration</li> </ul>"},{"location":"en/#technology-stack","title":"Technology Stack","text":""},{"location":"en/#backend","title":"Backend","text":"<ul> <li>FastAPI: Fast and modern Python web framework</li> <li>Milvus: Vector database for large-scale vector search</li> <li>PostgreSQL: Relational database</li> <li>Tortoise ORM: Asynchronous ORM</li> <li>face_recognition: Facial recognition library</li> <li>ONNX Runtime: High-performance machine learning inference engine</li> </ul>"},{"location":"en/#frontend","title":"Frontend","text":"<ul> <li>Vue 3</li> <li>Vite</li> <li>face-api.js</li> <li>Axios</li> </ul>"},{"location":"en/#infrastructure","title":"Infrastructure","text":"<ul> <li>Docker: Containerization</li> <li>Docker Compose: Multi-container orchestration</li> <li>Nginx: Reverse proxy</li> </ul>"},{"location":"en/#quick-start","title":"Quick Start","text":""},{"location":"en/#prerequisites","title":"Prerequisites","text":"<ul> <li>Docker 20.10+</li> <li>Docker Compose 1.29+</li> <li>Git</li> </ul>"},{"location":"en/#installation","title":"Installation","text":"<pre><code># Clone the repository\ngit clone https://github.com/lijunjie2232/faceapi.git\ncd face_recognition_system\n\n# Start development environment\ndocker-compose -f docker-compose.dev.yml up -d\n\n# Access the application\n# Frontend: http://localhost:3000\n# Backend API: http://localhost:8000\n# API Documentation: http://localhost:8000/docs\n</code></pre>"},{"location":"en/#project-structure","title":"Project Structure","text":"<pre><code>face_recognition_system/\n\u251c\u2500\u2500 backend/           # FastAPI application\n\u251c\u2500\u2500 frontend/          # Vue.js frontend\n\u251c\u2500\u2500 nginx/             # Nginx configuration\n\u251c\u2500\u2500 docker-compose.*.yml  # Docker Compose configuration\n\u2514\u2500\u2500 docs/              # Documentation\n</code></pre>"},{"location":"en/#contributing","title":"Contributing","text":"<p>Contributions are welcome! Please follow these steps:</p> <ol> <li>Fork the repository</li> <li>Create a new branch (<code>git checkout -b feature/amazing-feature</code>)</li> <li>Commit your changes (<code>git commit -m 'Add some amazing feature'</code>)</li> <li>Push to the branch (<code>git push origin feature/amazing-feature</code>)</li> <li>Create a Pull Request</li> </ol>"},{"location":"en/#license","title":"License","text":"<p>This project is released under the MIT license. See the LICENSE file for details.</p>"},{"location":"en/#support","title":"Support","text":"<p>If you have any questions or issues, please report them on the Issues page.</p>"},{"location":"en/deploy/","title":"Deployment Guide","text":"<p>This guide explains how to deploy the Face Recognition System to production environments.</p>"},{"location":"en/deploy/#deployment-options","title":"Deployment Options","text":""},{"location":"en/deploy/#pre-built-images-from-docker-hub-recommended","title":"Pre-built Images from Docker Hub (Recommended)","text":"<p>The main <code>docker-compose.yml</code> file uses pre-built images for direct deployment:</p> <ul> <li>Backend API: <code>lijunjie2232/faceapi-server:v1.0</code></li> <li>Web Interface: <code>lijunjie2232/faceapi-web:v1.0</code></li> </ul> <p>Benefits: - \u26a1 Faster deployment - No build time required - \ud83d\udd04 Consistent environments - Same image everywhere - \ud83d\udce6 No build dependencies - Just Docker needed - \u23f1\ufe0f Reduced setup time - Ready to use immediately</p>"},{"location":"en/deploy/#1-docker-compose-recommended","title":"1. Docker Compose (Recommended)","text":"<ul> <li>Simple and fast deployment</li> <li>Ideal for small to medium environments</li> <li>Self-hosted</li> </ul>"},{"location":"en/deploy/#2-kubernetes","title":"2. Kubernetes","text":"<ul> <li>For large-scale environments</li> <li>Supports auto-scaling</li> <li>High availability architecture</li> </ul>"},{"location":"en/deploy/#3-cloud-platforms","title":"3. Cloud Platforms","text":"<ul> <li>AWS ECS/EKS</li> <li>Google Cloud Run/GKE</li> <li>Azure Container Instances/AKS</li> </ul>"},{"location":"en/deploy/#deployment-with-docker-compose","title":"Deployment with Docker Compose","text":""},{"location":"en/deploy/#1-production-environment-preparation","title":"1. Production Environment Preparation","text":"<pre><code># Clone the repository\ngit clone https://github.com/lijunjie2232/faceapi.git\ncd face_recognition_system\n\n# Create production environment variables file\ncp .env.prod.example .env\n\n# Configure environment variables\nvim .env\n</code></pre>"},{"location":"en/deploy/#2-important-environment-variables","title":"2. Important Environment Variables","text":"<pre><code># .env file configuration example\nDEBUG=False\nLOG_LEVEL=INFO\n\n# Database settings\nPOSTGRES_USER=faceuser\nPOSTGRES_PASSWORD=your_secure_production_password\nPOSTGRES_DB=facedb\n\n# JWT settings\nJWT_SECRET_KEY=your_very_long_secret_key_here_at_least_32_characters\nJWT_EXPIRE_MINUTES=1440  # 24 hours\n\n# MinIO settings\nMINIO_ROOT_USER=minioadmin\nMINIO_ROOT_PASSWORD=your_secure_minio_password\n\n# SSL certificate paths (optional)\nSSL_CERTIFICATE_PATH=/path/to/certificate.crt\nSSL_PRIVATE_KEY_PATH=/path/to/private.key\n</code></pre>"},{"location":"en/deploy/#3-starting-production-environment","title":"3. Starting Production Environment","text":"<pre><code># Start production environment with pre-built images (recommended)\ndocker-compose -f docker-compose.yml up -d\n\n# Alternative: Build from source\ndocker-compose -f docker-compose.prod.yml up -d --build\n\n# For GPU-enabled environment\ndocker-compose -f docker-compose.prod.gpu.yml up -d\n\n# Check service status\ndocker-compose -f docker-compose.prod.yml ps\n\n# View logs\ndocker-compose -f docker-compose.prod.yml logs -f\n</code></pre>"},{"location":"en/deploy/#ssltls-configuration","title":"SSL/TLS Configuration","text":""},{"location":"en/deploy/#1-free-ssl-certificate-with-lets-encrypt","title":"1. Free SSL Certificate with Let's Encrypt","text":"<pre><code># Install Certbot\nsudo apt install certbot\n\n# Obtain SSL certificate\nsudo certbot certonly --standalone -d your-domain.com\n\n# Set certificate file paths\nSSL_CERTIFICATE_PATH=/etc/letsencrypt/live/your-domain.com/fullchain.pem\nSSL_PRIVATE_KEY_PATH=/etc/letsencrypt/live/your-domain.com/privkey.pem\n</code></pre>"},{"location":"en/deploy/#2-nginx-ssl-configuration","title":"2. Nginx SSL Configuration","text":"<pre><code>server {\n    listen 443 ssl http2;\n    server_name your-domain.com;\n\n    ssl_certificate /etc/letsencrypt/live/your-domain.com/fullchain.pem;\n    ssl_certificate_key /etc/letsencrypt/live/your-domain.com/privkey.pem;\n\n    # Enhanced SSL settings\n    ssl_protocols TLSv1.2 TLSv1.3;\n    ssl_ciphers ECDHE-RSA-AES256-GCM-SHA512:DHE-RSA-AES256-GCM-SHA512:ECDHE-RSA-AES256-GCM-SHA384:DHE-RSA-AES256-GCM-SHA384;\n    ssl_prefer_server_ciphers off;\n\n    location / {\n        proxy_pass http://frontend:3000;\n        proxy_set_header Host $host;\n        proxy_set_header X-Real-IP $remote_addr;\n    }\n}\n</code></pre>"},{"location":"en/deploy/#backup-and-recovery","title":"Backup and Recovery","text":""},{"location":"en/deploy/#1-database-backup","title":"1. Database Backup","text":"<pre><code># PostgreSQL backup script\n#!/bin/bash\nBACKUP_DIR=\"/backup/postgres\"\nDATE=$(date +%Y%m%d_%H%M%S)\n\n# Create backup\ndocker-compose -f docker-compose.prod.yml exec postgres pg_dump -U faceuser facedb &gt; $BACKUP_DIR/backup_$DATE.sql\n\n# Delete old backups (older than 7 days)\nfind $BACKUP_DIR -name \"backup_*.sql\" -mtime +7 -delete\n</code></pre>"},{"location":"en/deploy/#2-minio-data-backup","title":"2. MinIO Data Backup","text":"<pre><code># MinIO data backup\ndocker-compose -f docker-compose.prod.yml exec minio mc cp -r local/face-images /backup/minio/\n</code></pre>"},{"location":"en/deploy/#3-backup-automation","title":"3. Backup Automation","text":"<pre><code># Add to crontab\n# Daily backup at 2 AM\n0 2 * * * /path/to/backup-script.sh\n</code></pre>"},{"location":"en/deploy/#monitoring-and-logging","title":"Monitoring and Logging","text":""},{"location":"en/deploy/#1-log-management","title":"1. Log Management","text":"<pre><code># Docker log rotation configuration\ncat &gt; /etc/docker/daemon.json &lt;&lt; EOF\n{\n  \"log-driver\": \"json-file\",\n  \"log-opts\": {\n    \"max-size\": \"10m\",\n    \"max-file\": \"3\"\n  }\n}\nEOF\n\n# Restart Docker\nsudo systemctl restart docker\n</code></pre>"},{"location":"en/deploy/#2-health-checks","title":"2. Health Checks","text":"<pre><code># Add to docker-compose.prod.yml\nhealthcheck:\n  test: [\"CMD\", \"curl\", \"-f\", \"http://localhost:8000/health\"]\n  interval: 30s\n  timeout: 10s\n  retries: 3\n  start_period: 40s\n</code></pre>"},{"location":"en/deploy/#3-performance-monitoring","title":"3. Performance Monitoring","text":"<pre><code># Monitor Docker stats\ndocker stats\n\n# System resource monitoring\nhtop\niotop\n</code></pre>"},{"location":"en/deploy/#scaling","title":"Scaling","text":""},{"location":"en/deploy/#1-horizontal-scaling","title":"1. Horizontal Scaling","text":"<pre><code># Scale frontend\ndocker-compose -f docker-compose.prod.yml up -d --scale frontend=3\n\n# Scale backend\ndocker-compose -f docker-compose.prod.yml up -d --scale backend=2\n</code></pre>"},{"location":"en/deploy/#2-load-balancing","title":"2. Load Balancing","text":"<pre><code># Nginx load balancing configuration\nupstream backend_servers {\n    server backend1:8000;\n    server backend2:8000;\n    server backend3:8000;\n}\n\nupstream frontend_servers {\n    server frontend1:3000;\n    server frontend2:3000;\n    server frontend3:3000;\n}\n</code></pre>"},{"location":"en/deploy/#security-measures","title":"Security Measures","text":""},{"location":"en/deploy/#1-firewall-configuration","title":"1. Firewall Configuration","text":"<pre><code># UFW configuration\nsudo ufw enable\nsudo ufw allow ssh\nsudo ufw allow 80/tcp    # HTTP\nsudo ufw allow 443/tcp   # HTTPS\nsudo ufw deny 8000/tcp   # Don't expose backend API directly\n</code></pre>"},{"location":"en/deploy/#2-container-security","title":"2. Container Security","text":"<pre><code># Run as non-root user\n# Specify user in docker-compose.prod.yml\nuser: \"1000:1000\"\n\n# Read-only file system\nread_only: true\ntmpfs:\n  - /tmp\n  - /var/run\n</code></pre>"},{"location":"en/deploy/#3-environment-variable-protection","title":"3. Environment Variable Protection","text":"<pre><code># Externalize sensitive information\n# Create secrets.env file\nJWT_SECRET_KEY=your_secret_key\nDATABASE_PASSWORD=your_db_password\n\n# Load in docker-compose\nenv_file:\n  - .env\n  - secrets.env\n</code></pre>"},{"location":"en/deploy/#disaster-recovery-plan","title":"Disaster Recovery Plan","text":""},{"location":"en/deploy/#1-backup-strategy","title":"1. Backup Strategy","text":"<pre><code># Backup frequency\n- Database: Daily\n- MinIO data: Weekly\n- Configuration files: On change\n\n# Backup storage locations\n- Local storage: For immediate recovery\n- Cloud storage: For long-term storage\n- Off-site: For disaster protection\n</code></pre>"},{"location":"en/deploy/#2-recovery-procedure","title":"2. Recovery Procedure","text":"<pre><code># 1. Confirm latest backup\nls -la /backup/\n\n# 2. Restore database\ndocker-compose -f docker-compose.prod.yml exec postgres psql -U faceuser facedb &lt; backup_20241201_020000.sql\n\n# 3. Restore MinIO data\ndocker-compose -f docker-compose.prod.yml exec minio mc cp -r /backup/minio/face-images local/\n\n# 4. Restart services\ndocker-compose -f docker-compose.prod.yml down\ndocker-compose -f docker-compose.prod.yml up -d\n</code></pre>"},{"location":"en/deploy/#maintenance","title":"Maintenance","text":""},{"location":"en/deploy/#1-regular-maintenance-tasks","title":"1. Regular Maintenance Tasks","text":"<pre><code># Monthly maintenance script\n#!/bin/bash\n\n# Docker system cleanup\ndocker system prune -af\n\n# Log file rotation\nlogrotate /etc/logrotate.d/face-recognition\n\n# Database optimization\ndocker-compose -f docker-compose.prod.yml exec postgres vacuumdb -U faceuser facedb\n\n# SSL certificate renewal check\ncertbot renew --dry-run\n</code></pre>"},{"location":"en/deploy/#2-upgrade-procedure","title":"2. Upgrade Procedure","text":"<pre><code># 1. Start maintenance mode\ntouch /tmp/maintenance.mode\n\n# 2. Get new version\ngit pull origin main\n\n# 3. Create backup\n./scripts/backup.sh\n\n# 4. Stop services\ndocker-compose -f docker-compose.prod.yml down\n\n# 5. Deploy new version\ndocker-compose -f docker-compose.prod.yml up -d --build\n\n# 6. Health check\ncurl -f http://localhost:8000/health\n\n# 7. End maintenance mode\nrm /tmp/maintenance.mode\n</code></pre>"},{"location":"en/deploy/#troubleshooting","title":"Troubleshooting","text":""},{"location":"en/deploy/#common-issues-and-solutions","title":"Common Issues and Solutions","text":""},{"location":"en/deploy/#1-insufficient-memory","title":"1. Insufficient Memory","text":"<pre><code># Check memory usage\ndocker stats\n\n# Adjust Docker resource limits\n# Edit /etc/docker/daemon.json\n</code></pre>"},{"location":"en/deploy/#2-disk-space-issues","title":"2. Disk Space Issues","text":"<pre><code># Check disk usage\ndf -h\n\n# Remove unused Docker data\ndocker system prune -a\n</code></pre>"},{"location":"en/deploy/#3-network-problems","title":"3. Network Problems","text":"<pre><code># Check network connectivity\ndocker network ls\ndocker network inspect face-recognition_default\n</code></pre>"},{"location":"en/deploy/#4-performance-issues","title":"4. Performance Issues","text":"<pre><code># Resource monitoring\ntop\niotop\ndocker stats\n\n# Log analysis\ndocker-compose -f docker-compose.prod.yml logs --tail=100\n</code></pre> <p>Production environment deployment is now ready!</p>"},{"location":"en/dev/","title":"Development Environment Setup","text":"<p>This guide explains how to set up the development environment for Face Recognition System and run it locally.</p>"},{"location":"en/dev/#development-environment-overview","title":"Development Environment Overview","text":"<p>The development environment consists of the following containers:</p> <ul> <li>frontend: Vue.js 3 based frontend application</li> <li>backend: FastAPI based backend API server</li> <li>postgres: PostgreSQL database for storing user data</li> <li>milvus-standalone: Vector database for storing face feature vectors</li> <li>minio: Object storage for storing face images</li> <li>etcd: Metadata management for Milvus</li> <li>nginx: Reverse proxy and static file delivery</li> </ul>"},{"location":"en/dev/#starting-local-development-environment","title":"Starting Local Development Environment","text":""},{"location":"en/dev/#1-starting-the-development-environment","title":"1. Starting the Development Environment","text":"<pre><code># Start development environment\ndocker-compose -f docker-compose.dev.yml up -d\n\n# Check service status\ndocker-compose -f docker-compose.dev.yml ps\n\n# View logs\ndocker-compose -f docker-compose.dev.yml logs -f\n</code></pre>"},{"location":"en/dev/#2-gpu-enabled-development-environment-optional","title":"2. GPU-enabled Development Environment (Optional)","text":"<p>To use GPU:</p> <pre><code># Start GPU-enabled environment\ndocker-compose -f docker-compose.dev.gpu.yml up -d\n</code></pre>"},{"location":"en/dev/#accessing-services","title":"Accessing Services","text":"<p>After startup, you can access the following URLs:</p> Service URL Description Frontend http://localhost:3000 Vue.js application Backend API http://localhost:8000 FastAPI server API Documentation http://localhost:8000/docs Swagger UI MinIO Console http://localhost:9001 Object storage management Milvus Console http://localhost:9091 Vector database management"},{"location":"en/dev/#backend-development","title":"Backend Development","text":""},{"location":"en/dev/#1-hot-reload-for-backend-code","title":"1. Hot Reload for Backend Code","text":"<p>The code automatically restarts when changes are made during development:</p> <pre><code># Monitor backend logs\ndocker-compose -f docker-compose.dev.yml logs -f backend\n</code></pre>"},{"location":"en/dev/#2-database-migration","title":"2. Database Migration","text":"<pre><code># Initialize database\ndocker-compose -f docker-compose.dev.yml exec backend python -m faceapi.db.init_sql\n\n# Create admin account\ndocker-compose -f docker-compose.dev.yml exec backend python -m faceapi.db.init_account\n</code></pre>"},{"location":"en/dev/#3-api-testing","title":"3. API Testing","text":"<pre><code># Access API documentation\nopen http://localhost:8000/docs\n\n# API testing example using curl\ncurl -X POST http://localhost:8000/api/v1/signup \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"email\": \"test@example.com\", \"password\": \"password123\"}'\n</code></pre>"},{"location":"en/dev/#frontend-development","title":"Frontend Development","text":""},{"location":"en/dev/#1-hot-reload-for-frontend","title":"1. Hot Reload for Frontend","text":"<p>Vue.js development server supports hot reload:</p> <pre><code># Monitor frontend logs\ndocker-compose -f docker-compose.dev.yml logs -f frontend\n</code></pre>"},{"location":"en/dev/#2-adding-dependencies","title":"2. Adding Dependencies","text":"<pre><code># Install new npm packages\ndocker-compose -f docker-compose.dev.yml exec frontend pnpm add package-name\n\n# Install development packages\ndocker-compose -f docker-compose.dev.yml exec frontend pnpm add -D package-name\n</code></pre>"},{"location":"en/dev/#3-testing-builds","title":"3. Testing Builds","text":"<pre><code># Test production build\ndocker-compose -f docker-compose.dev.yml exec frontend pnpm build\n</code></pre>"},{"location":"en/dev/#database-operations","title":"Database Operations","text":""},{"location":"en/dev/#1-connecting-to-postgresql","title":"1. Connecting to PostgreSQL","text":"<pre><code># Connect to PostgreSQL container\ndocker-compose -f docker-compose.dev.yml exec postgres psql -U faceuser -d facedb\n\n# Useful SQL commands\n\\dt                    # Show table list\n\\d table_name          # Show table structure\nSELECT * FROM users;   # Show user table contents\n</code></pre>"},{"location":"en/dev/#2-connecting-to-milvus","title":"2. Connecting to Milvus","text":"<pre><code># Access Milvus console\nopen http://localhost:9091\n\n# Connect to Milvus from Python\ndocker-compose -f docker-compose.dev.yml exec backend python\n</code></pre> <pre><code>from pymilvus import connections, Collection\n\n# Connect\nconnections.connect(host='milvus-standalone', port='19530')\n\n# List collections\ncollections = connections.list_collections()\nprint(collections)\n</code></pre>"},{"location":"en/dev/#testing","title":"Testing","text":""},{"location":"en/dev/#1-running-unit-tests","title":"1. Running Unit Tests","text":"<pre><code># Run backend tests\ndocker-compose -f docker-compose.dev.yml exec backend pytest\n\n# Run specific test file\ndocker-compose -f docker-compose.dev.yml exec backend pytest tests/test_users.py\n\n# Generate coverage report\ndocker-compose -f docker-compose.dev.yml exec backend pytest --cov=faceapi --cov-report=html\n</code></pre>"},{"location":"en/dev/#2-e2e-testing","title":"2. E2E Testing","text":"<pre><code># Run Cypress tests\ndocker-compose -f docker-compose.dev.yml exec frontend pnpm test:e2e\n</code></pre>"},{"location":"en/dev/#debugging","title":"Debugging","text":""},{"location":"en/dev/#1-checking-logs","title":"1. Checking Logs","text":"<pre><code># Logs for all services\ndocker-compose -f docker-compose.dev.yml logs\n\n# Logs for specific service\ndocker-compose -f docker-compose.dev.yml logs backend\ndocker-compose -f docker-compose.dev.yml logs frontend\n\n# Real-time log monitoring\ndocker-compose -f docker-compose.dev.yml logs -f\n</code></pre>"},{"location":"en/dev/#2-working-inside-containers","title":"2. Working Inside Containers","text":"<pre><code># Access backend container\ndocker-compose -f docker-compose.dev.yml exec backend bash\n\n# Access frontend container\ndocker-compose -f docker-compose.dev.yml exec frontend sh\n\n# Access database container\ndocker-compose -f docker-compose.dev.yml exec postgres bash\n</code></pre>"},{"location":"en/dev/#3-starting-in-debug-mode","title":"3. Starting in Debug Mode","text":"<pre><code># Start backend in debug mode\ndocker-compose -f docker-compose.dev.yml stop backend\ndocker-compose -f docker-compose.dev.yml run --service-ports backend uvicorn faceapi.main:app --host 0.0.0.0 --port 8000 --reload\n</code></pre>"},{"location":"en/dev/#environment-variables","title":"Environment Variables","text":""},{"location":"en/dev/#main-environment-variables-for-development","title":"Main Environment Variables for Development","text":"<pre><code># .env file example\nDEBUG=True\nLOG_LEVEL=DEBUG\n\n# Database\nPOSTGRES_USER=faceuser\nPOSTGRES_PASSWORD=dev_password\nPOSTGRES_DB=facedb\n\n# JWT\nJWT_SECRET_KEY=development_secret_key\nJWT_EXPIRE_MINUTES=30\n\n# MinIO\nMINIO_ROOT_USER=minioadmin\nMINIO_ROOT_PASSWORD=minioadmin123\n</code></pre>"},{"location":"en/dev/#development-workflow","title":"Development Workflow","text":""},{"location":"en/dev/#1-new-feature-development-steps","title":"1. New Feature Development Steps","text":"<pre><code># 1. Create new branch\ngit checkout -b feature/new-feature\n\n# 2. Code changes\n\n# 3. Run tests\ndocker-compose -f docker-compose.dev.yml exec backend pytest\n\n# 4. Commit\ngit add .\ngit commit -m \"Add new feature\"\n\n# 5. Push\ngit push origin feature/new-feature\n</code></pre>"},{"location":"en/dev/#2-code-quality-checks","title":"2. Code Quality Checks","text":"<pre><code># Backend code formatting\ndocker-compose -f docker-compose.dev.yml exec backend black .\n\n# Frontend code formatting\ndocker-compose -f docker-compose.dev.yml exec frontend pnpm format\n\n# Linting checks\ndocker-compose -f docker-compose.dev.yml exec backend flake8 .\ndocker-compose -f docker-compose.dev.yml exec frontend pnpm lint\n</code></pre>"},{"location":"en/dev/#troubleshooting","title":"Troubleshooting","text":""},{"location":"en/dev/#common-issues-and-solutions","title":"Common Issues and Solutions","text":""},{"location":"en/dev/#1-containers-wont-start","title":"1. Containers Won't Start","text":"<pre><code># Check container status\ndocker-compose -f docker-compose.dev.yml ps\n\n# Check container logs\ndocker-compose -f docker-compose.dev.yml logs service_name\n\n# Rebuild containers\ndocker-compose -f docker-compose.dev.yml down\ndocker-compose -f docker-compose.dev.yml up -d --build\n</code></pre>"},{"location":"en/dev/#2-database-connection-errors","title":"2. Database Connection Errors","text":"<pre><code># Restart database service\ndocker-compose -f docker-compose.dev.yml restart postgres\n\n# Re-run database initialization\ndocker-compose -f docker-compose.dev.yml exec backend python -m faceapi.db.init_sql\n</code></pre>"},{"location":"en/dev/#3-insufficient-memory","title":"3. Insufficient Memory","text":"<pre><code># Check Docker resource limits\ndocker info | grep -i memory\n\n# Remove unused containers and images\ndocker system prune -a\n</code></pre>"},{"location":"en/dev/#4-port-conflicts","title":"4. Port Conflicts","text":"<pre><code># Check ports in use\nsudo lsof -i :8000\nsudo lsof -i :3000\n\n# Change ports in docker-compose.yml\n</code></pre>"},{"location":"en/dev/#resetting-development-environment","title":"Resetting Development Environment","text":"<pre><code># Completely clean development environment\n./scripts/clean-dev-env.sh\n\n# Or manually\ndocker-compose -f docker-compose.dev.yml down -v\ndocker volume ls | grep face\ndocker volume rm [volume_names]\n</code></pre> <p>Development environment setup is now complete!</p>"},{"location":"en/install/","title":"Installation Guide","text":"<p>This guide provides detailed instructions for installing the Face Recognition System.</p>"},{"location":"en/install/#system-requirements","title":"System Requirements","text":""},{"location":"en/install/#minimum-requirements","title":"Minimum Requirements","text":"<ul> <li>OS: Ubuntu 20.04 LTS / CentOS 8 / macOS 10.15+ / Windows 10+</li> <li>Memory: 8GB RAM (Recommended: 16GB+)</li> <li>Storage: 20GB free space</li> <li>CPU: 4 cores or more</li> </ul>"},{"location":"en/install/#recommended-requirements","title":"Recommended Requirements","text":"<ul> <li>Memory: 16GB RAM or more</li> <li>GPU: NVIDIA GPU (CUDA compatible, Recommended: RTX 3060+)</li> <li>Storage: 50GB free space (SSD recommended)</li> </ul>"},{"location":"en/install/#installing-required-software","title":"Installing Required Software","text":""},{"location":"en/install/#1-installing-docker","title":"1. Installing Docker","text":""},{"location":"en/install/#ubuntudebian","title":"Ubuntu/Debian","text":"<pre><code># Update package list\nsudo apt update\n\n# Install dependencies\nsudo apt install apt-transport-https ca-certificates curl gnupg lsb-release\n\n# Add Docker's official GPG key\ncurl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo gpg --dearmor -o /usr/share/keyrings/docker-archive-keyring.gpg\n\n# Set up repository\necho \"deb [arch=$(dpkg --print-architecture) signed-by=/usr/share/keyrings/docker-archive-keyring.gpg] https://download.docker.com/linux/ubuntu $(lsb_release -cs) stable\" | sudo tee /etc/apt/sources.list.d/docker.list &gt; /dev/null\n\n# Install Docker Engine\nsudo apt update\nsudo apt install docker-ce docker-ce-cli containerd.io\n\n# Start and enable Docker\nsudo systemctl start docker\nsudo systemctl enable docker\n\n# Grant permissions to non-root user\nsudo usermod -aG docker $USER\n</code></pre>"},{"location":"en/install/#centosrhel","title":"CentOS/RHEL","text":"<pre><code># Set up repository\nsudo yum install -y yum-utils\nsudo yum-config-manager --add-repo https://download.docker.com/linux/centos/docker-ce.repo\n\n# Install Docker Engine\nsudo yum install docker-ce docker-ce-cli containerd.io\n\n# Start and enable Docker\nsudo systemctl start docker\nsudo systemctl enable docker\n\n# Grant permissions to non-root user\nsudo usermod -aG docker $USER\n</code></pre>"},{"location":"en/install/#macos","title":"macOS","text":"<pre><code># Install Docker Desktop using Homebrew\nbrew install --cask docker\n</code></pre>"},{"location":"en/install/#2-installing-docker-compose","title":"2. Installing Docker Compose","text":""},{"location":"en/install/#linuxmacos","title":"Linux/macOS","text":"<pre><code># Get the latest version\nCOMPOSE_VERSION=$(curl -s https://api.github.com/repos/docker/compose/releases/latest | grep 'tag_name' | cut -d\\\" -f4)\n\n# Download and install Docker Compose\nsudo curl -L \"https://github.com/docker/compose/releases/download/${COMPOSE_VERSION}/docker-compose-$(uname -s)-$(uname -m)\" -o /usr/local/bin/docker-compose\n\n# Make it executable\nsudo chmod +x /usr/local/bin/docker-compose\n\n# Verify installation\ndocker-compose --version\n</code></pre>"},{"location":"en/install/#3-installing-git","title":"3. Installing Git","text":""},{"location":"en/install/#macos_1","title":"macOS","text":"<pre><code># Git is usually pre-installed\ngit --version\n</code></pre>"},{"location":"en/install/#project-setup","title":"Project Setup","text":""},{"location":"en/install/#1-cloning-the-repository","title":"1. Cloning the Repository","text":"<pre><code># Clone the repository\ngit clone https://github.com/lijunjie2232/faceapi.git\ncd face_recognition_system\n\n# Copy environment variables file\ncp .env.dev.example .env\n</code></pre>"},{"location":"en/install/#2-configuring-environment-variables","title":"2. Configuring Environment Variables","text":"<p>Edit the <code>.env</code> file to configure necessary settings:</p> <pre><code># Database settings\nPOSTGRES_USER=faceuser\nPOSTGRES_PASSWORD=your_secure_password\nPOSTGRES_DB=facedb\n\n# JWT secret key\nJWT_SECRET_KEY=your_very_secret_key_here\n\n# MinIO settings\nMINIO_ROOT_USER=minioadmin\nMINIO_ROOT_PASSWORD=minioadmin123\n\n# Milvus settings\nMILVUS_HOST=milvus-standalone\nMILVUS_PORT=19530\n</code></pre>"},{"location":"en/install/#3-gpu-support-configuration-optional","title":"3. GPU Support Configuration (Optional)","text":"<p>If you want to use GPU, follow these steps:</p>"},{"location":"en/install/#installing-nvidia-docker","title":"Installing NVIDIA Docker","text":"<pre><code># Install NVIDIA Container Toolkit\ndistribution=$(. /etc/os-release;echo $ID$VERSION_ID)\ncurl -s -L https://nvidia.github.io/nvidia-docker/gpgkey | sudo apt-key add -\ncurl -s -L https://nvidia.github.io/nvidia-docker/$distribution/nvidia-docker.list | sudo tee /etc/apt/sources.list.d/nvidia-docker.list\n\nsudo apt update\nsudo apt install nvidia-docker2\n\n# Restart Docker\nsudo systemctl restart docker\n</code></pre>"},{"location":"en/install/#using-gpu-enabled-docker-compose-file","title":"Using GPU-enabled Docker Compose File","text":"<pre><code># Start GPU-enabled development environment\ndocker-compose -f docker-compose.dev.gpu.yml up -d\n</code></pre>"},{"location":"en/install/#first-launch","title":"First Launch","text":""},{"location":"en/install/#starting-the-development-environment","title":"Starting the Development Environment","text":"<pre><code># Build and start development environment\ndocker-compose -f docker-compose.dev.yml up -d --build\n\n# Check service status\ndocker-compose -f docker-compose.dev.yml ps\n\n# View logs\ndocker-compose -f docker-compose.dev.yml logs -f\n</code></pre>"},{"location":"en/install/#accessing-services","title":"Accessing Services","text":"<p>After startup is complete, you can access the following URLs:</p> <ul> <li>Frontend: http://localhost:3000</li> <li>Backend API: http://localhost:8000</li> <li>API Documentation: http://localhost:8000/docs</li> <li>MinIO Console: http://localhost:9001</li> <li>Milvus Console: http://localhost:9091</li> </ul>"},{"location":"en/install/#troubleshooting","title":"Troubleshooting","text":""},{"location":"en/install/#common-issues-and-solutions","title":"Common Issues and Solutions","text":""},{"location":"en/install/#1-docker-permission-errors","title":"1. Docker Permission Errors","text":"<pre><code># Add user to docker group\nsudo usermod -aG docker $USER\n\n# Re-login or run the following command\nnewgrp docker\n</code></pre>"},{"location":"en/install/#2-port-already-in-use","title":"2. Port Already in Use","text":"<pre><code># Check ports in use\nsudo netstat -tlnp | grep :8000\n\n# To use different ports, edit docker-compose.yml\n</code></pre>"},{"location":"en/install/#3-insufficient-memory-error","title":"3. Insufficient Memory Error","text":"<pre><code># Adjust Docker resource limits\n# Docker Desktop: Preferences \u2192 Resources\n# Linux: Configure resource limits in /etc/docker/daemon.json\n</code></pre>"},{"location":"en/install/#4-gpu-not-detected","title":"4. GPU Not Detected","text":"<pre><code># Check NVIDIA drivers\nnvidia-smi\n\n# Verify nvidia-docker2 installation\ndocker info | grep -i nvidia\n</code></pre>"},{"location":"en/install/#getting-support","title":"Getting Support","text":"<p>If you can't resolve the issue, please create an Issue with the following information:</p> <ol> <li>OS version and Docker version</li> <li>Error messages</li> <li>Docker-compose file being used</li> <li>Environment variable settings (excluding passwords and sensitive information)</li> </ol> <pre><code># Collect system information\nuname -a\ndocker --version\ndocker-compose --version\n</code></pre>"}]}